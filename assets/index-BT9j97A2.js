(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?e.credentials="include":s.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function p(s){if(s.ep)return;s.ep=!0;const e=r(s);fetch(s.href,e)}})();const ln=(t,n)=>{document.querySelector(n).insertAdjacentHTML("beforeend",t)};function Si(t,n){t.indexOf(n)===-1&&t.push(n)}function un(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}const ce=(t,n,r)=>r>n?n:r<t?t:r;let ft=()=>{};const se={},fn=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wi(t){return typeof t=="object"&&t!==null}const cn=t=>/^0[^.\s]+$/u.test(t);function ct(t){let n;return()=>(n===void 0&&(n=t()),n)}const pe=t=>t,Ti=(t,n)=>r=>n(t(r)),ht=(...t)=>t.reduce(Ti),dt=(t,n,r)=>{const p=n-t;return p===0?1:(r-t)/p};class hn{constructor(){this.subscriptions=[]}add(n){return Si(this.subscriptions,n),()=>un(this.subscriptions,n)}notify(n,r,p){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](n,r,p);else for(let e=0;e<s;e++){const o=this.subscriptions[e];o&&o(n,r,p)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const te=t=>t*1e3,ie=t=>t/1e3;function dn(t,n){return n?t*(1e3/n):0}const Mi=(t,n,r)=>{const p=n-t;return((r-t)%p+p)%p+t},pn=(t,n,r)=>(((1-3*r+3*n)*t+(3*r-6*n))*t+3*n)*t,Ci=1e-7,Pi=12;function Ai(t,n,r,p,s){let e,o,u=0;do o=n+(r-n)/2,e=pn(o,p,s)-t,e>0?r=o:n=o;while(Math.abs(e)>Ci&&++u<Pi);return o}function Ie(t,n,r,p){if(t===n&&r===p)return pe;const s=e=>Ai(e,0,1,t,r);return e=>e===0||e===1?e:pn(s(e),n,p)}const mn=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,gn=t=>n=>1-t(1-n),vn=Ie(.33,1.53,.69,.99),pt=gn(vn),xn=mn(pt),yn=t=>(t*=2)<1?.5*pt(t):.5*(2-Math.pow(2,-10*(t-1))),mt=t=>1-Math.sin(Math.acos(t)),Vi=gn(mt),Sn=mn(mt),Ii=Ie(.42,0,1,1),Di=Ie(0,0,.58,1),wn=Ie(.42,0,.58,1),Tn=t=>Array.isArray(t)&&typeof t[0]!="number";function Mn(t,n){return Tn(t)?t[Mi(0,t.length,n)]:t}const Cn=t=>Array.isArray(t)&&typeof t[0]=="number",Fi={linear:pe,easeIn:Ii,easeInOut:wn,easeOut:Di,circIn:mt,circInOut:Sn,circOut:Vi,backIn:pt,backInOut:xn,backOut:vn,anticipate:yn},Bi=t=>typeof t=="string",Ze=t=>{if(Cn(t)){ft(t.length===4);const[n,r,p,s]=t;return Ie(n,r,p,s)}else if(Bi(t))return Fi[t];return t},Re=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bi(t,n){let r=new Set,p=new Set,s=!1,e=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function l(a){o.has(a)&&(d.schedule(a),t()),a(u)}const d={schedule:(a,m=!1,h=!1)=>{const c=h&&s?r:p;return m&&o.add(a),c.has(a)||c.add(a),a},cancel:a=>{p.delete(a),o.delete(a)},process:a=>{if(u=a,s){e=!0;return}s=!0,[r,p]=[p,r],r.forEach(l),r.clear(),s=!1,e&&(e=!1,d.process(a))}};return d}const Ei=40;function Pn(t,n){let r=!1,p=!0;const s={delta:0,timestamp:0,isProcessing:!1},e=()=>r=!0,o=Re.reduce((P,A)=>(P[A]=bi(e),P),{}),{setup:u,read:l,resolveKeyframes:d,preUpdate:a,update:m,preRender:h,render:i,postRender:c}=o,f=()=>{const P=se.useManualTiming?s.timestamp:performance.now();r=!1,se.useManualTiming||(s.delta=p?1e3/60:Math.max(Math.min(P-s.timestamp,Ei),1)),s.timestamp=P,s.isProcessing=!0,u.process(s),l.process(s),d.process(s),a.process(s),m.process(s),h.process(s),i.process(s),c.process(s),s.isProcessing=!1,r&&n&&(p=!1,t(f))},g=()=>{r=!0,p=!0,s.isProcessing||t(f)};return{schedule:Re.reduce((P,A)=>{const v=o[A];return P[A]=(S,w=!1,x=!1)=>(r||g(),v.schedule(S,w,x)),P},{}),cancel:P=>{for(let A=0;A<Re.length;A++)o[Re[A]].cancel(P)},state:s,steps:o}}const{schedule:re,cancel:Ye,state:Ne}=Pn(typeof requestAnimationFrame<"u"?requestAnimationFrame:pe,!0);let Le;function Ri(){Le=void 0}const Q={now:()=>(Le===void 0&&Q.set(Ne.isProcessing||se.useManualTiming?Ne.timestamp:performance.now()),Le),set:t=>{Le=t,queueMicrotask(Ri)}},An=t=>n=>typeof n=="string"&&n.startsWith(t),Vn=An("--"),Oi=An("var(--"),gt=t=>Oi(t)?Li.test(t.split("/*")[0].trim()):!1,Li=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,me={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Me={...me,transform:t=>ce(0,1,t)},Oe={...me,default:1},we=t=>Math.round(t*1e5)/1e5,vt=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ki(t){return t==null}const Ni=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xt=(t,n)=>r=>!!(typeof r=="string"&&Ni.test(r)&&r.startsWith(t)||n&&!ki(r)&&Object.prototype.hasOwnProperty.call(r,n)),In=(t,n,r)=>p=>{if(typeof p!="string")return p;const[s,e,o,u]=p.match(vt);return{[t]:parseFloat(s),[n]:parseFloat(e),[r]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},Wi=t=>ce(0,255,t),Ge={...me,transform:t=>Math.round(Wi(t))},oe={test:xt("rgb","red"),parse:In("red","green","blue"),transform:({red:t,green:n,blue:r,alpha:p=1})=>"rgba("+Ge.transform(t)+", "+Ge.transform(n)+", "+Ge.transform(r)+", "+we(Me.transform(p))+")"};function Hi(t){let n="",r="",p="",s="";return t.length>5?(n=t.substring(1,3),r=t.substring(3,5),p=t.substring(5,7),s=t.substring(7,9)):(n=t.substring(1,2),r=t.substring(2,3),p=t.substring(3,4),s=t.substring(4,5),n+=n,r+=r,p+=p,s+=s),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(p,16),alpha:s?parseInt(s,16)/255:1}}const Qe={test:xt("#"),parse:Hi,transform:oe.transform},De=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),ae=De("deg"),de=De("%"),O=De("px"),Ki=De("vh"),Ui=De("vw"),kt={...de,parse:t=>de.parse(t)/100,transform:t=>de.transform(t*100)},he={test:xt("hsl","hue"),parse:In("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:r,alpha:p=1})=>"hsla("+Math.round(t)+", "+de.transform(we(n))+", "+de.transform(we(r))+", "+we(Me.transform(p))+")"},G={test:t=>oe.test(t)||Qe.test(t)||he.test(t),parse:t=>oe.test(t)?oe.parse(t):he.test(t)?he.parse(t):Qe.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oe.transform(t):he.transform(t),getAnimatableNone:t=>{const n=G.parse(t);return n.alpha=0,G.transform(n)}},Gi=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $i(t){return isNaN(t)&&typeof t=="string"&&(t.match(vt)?.length||0)+(t.match(Gi)?.length||0)>0}const Dn="number",Fn="color",zi="var",Xi="var(",Nt="${}",Zi=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ce(t){const n=t.toString(),r=[],p={color:[],number:[],var:[]},s=[];let e=0;const u=n.replace(Zi,l=>(G.test(l)?(p.color.push(e),s.push(Fn),r.push(G.parse(l))):l.startsWith(Xi)?(p.var.push(e),s.push(zi),r.push(l)):(p.number.push(e),s.push(Dn),r.push(parseFloat(l))),++e,Nt)).split(Nt);return{values:r,split:u,indexes:p,types:s}}function Bn(t){return Ce(t).values}function bn(t){const{split:n,types:r}=Ce(t),p=n.length;return s=>{let e="";for(let o=0;o<p;o++)if(e+=n[o],s[o]!==void 0){const u=r[o];u===Dn?e+=we(s[o]):u===Fn?e+=G.transform(s[o]):e+=s[o]}return e}}const Yi=t=>typeof t=="number"?0:G.test(t)?G.getAnimatableNone(t):t;function Qi(t){const n=Bn(t);return bn(t)(n.map(Yi))}const ge={test:$i,parse:Bn,createTransformer:bn,getAnimatableNone:Qi};function $e(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function ji({hue:t,saturation:n,lightness:r,alpha:p}){t/=360,n/=100,r/=100;let s=0,e=0,o=0;if(!n)s=e=o=r;else{const u=r<.5?r*(1+n):r+n-r*n,l=2*r-u;s=$e(l,u,t+1/3),e=$e(l,u,t),o=$e(l,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(e*255),blue:Math.round(o*255),alpha:p}}function We(t,n){return r=>r>0?n:t}const Fe=(t,n,r)=>t+(n-t)*r,ze=(t,n,r)=>{const p=t*t,s=r*(n*n-p)+p;return s<0?0:Math.sqrt(s)},Ji=[Qe,oe,he],qi=t=>Ji.find(n=>n.test(t));function Wt(t){const n=qi(t);if(!n)return!1;let r=n.parse(t);return n===he&&(r=ji(r)),r}const Ht=(t,n)=>{const r=Wt(t),p=Wt(n);if(!r||!p)return We(t,n);const s={...r};return e=>(s.red=ze(r.red,p.red,e),s.green=ze(r.green,p.green,e),s.blue=ze(r.blue,p.blue,e),s.alpha=Fe(r.alpha,p.alpha,e),oe.transform(s))},je=new Set(["none","hidden"]);function _i(t,n){return je.has(t)?r=>r<=0?t:n:r=>r>=1?n:t}function es(t,n){return r=>Fe(t,n,r)}function yt(t){return typeof t=="number"?es:typeof t=="string"?gt(t)?We:G.test(t)?Ht:is:Array.isArray(t)?En:typeof t=="object"?G.test(t)?Ht:ts:We}function En(t,n){const r=[...t],p=r.length,s=t.map((e,o)=>yt(e)(e,n[o]));return e=>{for(let o=0;o<p;o++)r[o]=s[o](e);return r}}function ts(t,n){const r={...t,...n},p={};for(const s in r)t[s]!==void 0&&n[s]!==void 0&&(p[s]=yt(t[s])(t[s],n[s]));return s=>{for(const e in p)r[e]=p[e](s);return r}}function ns(t,n){const r=[],p={color:0,var:0,number:0};for(let s=0;s<n.values.length;s++){const e=n.types[s],o=t.indexes[e][p[e]],u=t.values[o]??0;r[s]=u,p[e]++}return r}const is=(t,n)=>{const r=ge.createTransformer(n),p=Ce(t),s=Ce(n);return p.indexes.var.length===s.indexes.var.length&&p.indexes.color.length===s.indexes.color.length&&p.indexes.number.length>=s.indexes.number.length?je.has(t)&&!s.values.length||je.has(n)&&!p.values.length?_i(t,n):ht(En(ns(p,s),s.values),r):We(t,n)};function Rn(t,n,r){return typeof t=="number"&&typeof n=="number"&&typeof r=="number"?Fe(t,n,r):yt(t)(t,n)}const ss=t=>{const n=({timestamp:r})=>t(r);return{start:(r=!0)=>re.update(n,r),stop:()=>Ye(n),now:()=>Ne.isProcessing?Ne.timestamp:Q.now()}},On=(t,n,r=10)=>{let p="";const s=Math.max(Math.round(n/r),2);for(let e=0;e<s;e++)p+=Math.round(t(e/(s-1))*1e4)/1e4+", ";return`linear(${p.substring(0,p.length-2)})`},He=2e4;function St(t){let n=0;const r=50;let p=t.next(n);for(;!p.done&&n<He;)n+=r,p=t.next(n);return n>=He?1/0:n}function Ln(t,n=100,r){const p=r({...t,keyframes:[0,n]}),s=Math.min(St(p),He);return{type:"keyframes",ease:e=>p.next(s*e).value/n,duration:ie(s)}}const rs=5;function kn(t,n,r){const p=Math.max(n-rs,0);return dn(r-t(p),n-p)}const H={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xe=.001;function as({duration:t=H.duration,bounce:n=H.bounce,velocity:r=H.velocity,mass:p=H.mass}){let s,e,o=1-n;o=ce(H.minDamping,H.maxDamping,o),t=ce(H.minDuration,H.maxDuration,ie(t)),o<1?(s=d=>{const a=d*o,m=a*t,h=a-r,i=Je(d,o),c=Math.exp(-m);return Xe-h/i*c},e=d=>{const m=d*o*t,h=m*r+r,i=Math.pow(o,2)*Math.pow(d,2)*t,c=Math.exp(-m),f=Je(Math.pow(d,2),o);return(-s(d)+Xe>0?-1:1)*((h-i)*c)/f}):(s=d=>{const a=Math.exp(-d*t),m=(d-r)*t+1;return-Xe+a*m},e=d=>{const a=Math.exp(-d*t),m=(r-d)*(t*t);return a*m});const u=5/t,l=ls(s,e,u);if(t=te(t),isNaN(l))return{stiffness:H.stiffness,damping:H.damping,duration:t};{const d=Math.pow(l,2)*p;return{stiffness:d,damping:o*2*Math.sqrt(p*d),duration:t}}}const os=12;function ls(t,n,r){let p=r;for(let s=1;s<os;s++)p=p-t(p)/n(p);return p}function Je(t,n){return t*Math.sqrt(1-n*n)}const us=["duration","bounce"],fs=["stiffness","damping","mass"];function Kt(t,n){return n.some(r=>t[r]!==void 0)}function cs(t){let n={velocity:H.velocity,stiffness:H.stiffness,damping:H.damping,mass:H.mass,isResolvedFromDuration:!1,...t};if(!Kt(t,fs)&&Kt(t,us))if(t.visualDuration){const r=t.visualDuration,p=2*Math.PI/(r*1.2),s=p*p,e=2*ce(.05,1,1-(t.bounce||0))*Math.sqrt(s);n={...n,mass:H.mass,stiffness:s,damping:e}}else{const r=as(t);n={...n,...r,mass:H.mass},n.isResolvedFromDuration=!0}return n}function Pe(t=H.visualDuration,n=H.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:p,restDelta:s}=r;const e=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],u={done:!1,value:e},{stiffness:l,damping:d,mass:a,duration:m,velocity:h,isResolvedFromDuration:i}=cs({...r,velocity:-ie(r.velocity||0)}),c=h||0,f=d/(2*Math.sqrt(l*a)),g=o-e,y=ie(Math.sqrt(l/a)),T=Math.abs(g)<5;p||(p=T?H.restSpeed.granular:H.restSpeed.default),s||(s=T?H.restDelta.granular:H.restDelta.default);let P;if(f<1){const v=Je(y,f);P=S=>{const w=Math.exp(-f*y*S);return o-w*((c+f*y*g)/v*Math.sin(v*S)+g*Math.cos(v*S))}}else if(f===1)P=v=>o-Math.exp(-y*v)*(g+(c+y*g)*v);else{const v=y*Math.sqrt(f*f-1);P=S=>{const w=Math.exp(-f*y*S),x=Math.min(v*S,300);return o-w*((c+f*y*g)*Math.sinh(x)+v*g*Math.cosh(x))/v}}const A={calculatedDuration:i&&m||null,next:v=>{const S=P(v);if(i)u.done=v>=m;else{let w=v===0?c:0;f<1&&(w=v===0?te(c):kn(P,v,S));const x=Math.abs(w)<=p,C=Math.abs(o-S)<=s;u.done=x&&C}return u.value=u.done?o:S,u},toString:()=>{const v=Math.min(St(A),He),S=On(w=>A.next(v*w).value,v,30);return v+"ms "+S},toTransition:()=>{}};return A}Pe.applyToOptions=t=>{const n=Ln(t,100,Pe);return t.ease=n.ease,t.duration=te(n.duration),t.type="keyframes",t};function qe({keyframes:t,velocity:n=0,power:r=.8,timeConstant:p=325,bounceDamping:s=10,bounceStiffness:e=500,modifyTarget:o,min:u,max:l,restDelta:d=.5,restSpeed:a}){const m=t[0],h={done:!1,value:m},i=x=>u!==void 0&&x<u||l!==void 0&&x>l,c=x=>u===void 0?l:l===void 0||Math.abs(u-x)<Math.abs(l-x)?u:l;let f=r*n;const g=m+f,y=o===void 0?g:o(g);y!==g&&(f=y-m);const T=x=>-f*Math.exp(-x/p),P=x=>y+T(x),A=x=>{const C=T(x),M=P(x);h.done=Math.abs(C)<=d,h.value=h.done?y:M};let v,S;const w=x=>{i(h.value)&&(v=x,S=Pe({keyframes:[h.value,c(h.value)],velocity:kn(P,x,h.value),damping:s,stiffness:e,restDelta:d,restSpeed:a}))};return w(0),{calculatedDuration:null,next:x=>{let C=!1;return!S&&v===void 0&&(C=!0,A(x),w(x)),v!==void 0&&x>=v?S.next(x-v):(!C&&A(x),h)}}}function hs(t,n,r){const p=[],s=r||se.mix||Rn,e=t.length-1;for(let o=0;o<e;o++){let u=s(t[o],t[o+1]);if(n){const l=Array.isArray(n)?n[o]||pe:n;u=ht(l,u)}p.push(u)}return p}function ds(t,n,{clamp:r=!0,ease:p,mixer:s}={}){const e=t.length;if(ft(e===n.length),e===1)return()=>n[0];if(e===2&&n[0]===n[1])return()=>n[1];const o=t[0]===t[1];t[0]>t[e-1]&&(t=[...t].reverse(),n=[...n].reverse());const u=hs(n,p,s),l=u.length,d=a=>{if(o&&a<t[0])return n[0];let m=0;if(l>1)for(;m<t.length-2&&!(a<t[m+1]);m++);const h=dt(t[m],t[m+1],a);return u[m](h)};return r?a=>d(ce(t[0],t[e-1],a)):d}function Nn(t,n){const r=t[t.length-1];for(let p=1;p<=n;p++){const s=dt(0,n,p);t.push(Fe(r,1,s))}}function Wn(t){const n=[0];return Nn(n,t.length-1),n}function ps(t,n){return t.map(r=>r*n)}function ms(t,n){return t.map(()=>n||wn).splice(0,t.length-1)}function Te({duration:t=300,keyframes:n,times:r,ease:p="easeInOut"}){const s=Tn(p)?p.map(Ze):Ze(p),e={done:!1,value:n[0]},o=ps(r&&r.length===n.length?r:Wn(n),t),u=ds(o,n,{ease:Array.isArray(s)?s:ms(n,s)});return{calculatedDuration:t,next:l=>(e.value=u(l),e.done=l>=t,e)}}const gs=t=>t!==null;function wt(t,{repeat:n,repeatType:r="loop"},p,s=1){const e=t.filter(gs),u=s<0||n&&r!=="loop"&&n%2===1?0:e.length-1;return!u||p===void 0?e[u]:p}const vs={decay:qe,inertia:qe,tween:Te,keyframes:Te,spring:Pe};function Hn(t){typeof t.type=="string"&&(t.type=vs[t.type])}class Tt{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,r){return this.finished.then(n,r)}}const xs=t=>t/100;class Mt extends Tt{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Q.now()&&this.tick(Q.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;Hn(n);const{type:r=Te,repeat:p=0,repeatDelay:s=0,repeatType:e,velocity:o=0}=n;let{keyframes:u}=n;const l=r||Te;l!==Te&&typeof u[0]!="number"&&(this.mixKeyframes=ht(xs,Rn(u[0],u[1])),u=[0,100]);const d=l({...n,keyframes:u});e==="mirror"&&(this.mirroredGenerator=l({...n,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=St(d));const{calculatedDuration:a}=d;this.calculatedDuration=a,this.resolvedDuration=a+s,this.totalDuration=this.resolvedDuration*(p+1)-s,this.generator=d}updateTime(n){const r=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(n,r=!1){const{generator:p,totalDuration:s,mixKeyframes:e,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:l}=this;if(this.startTime===null)return p.next(0);const{delay:d=0,keyframes:a,repeat:m,repeatType:h,repeatDelay:i,type:c,onUpdate:f,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-s/this.speed,this.startTime)),r?this.currentTime=n:this.updateTime(n);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,A=p;if(m){const x=Math.min(this.currentTime,s)/u;let C=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(h==="reverse"?(M=1-M,i&&(M-=i/u)):h==="mirror"&&(A=o)),P=ce(0,1,M)*u}const v=T?{done:!1,value:a[0]}:A.next(P);e&&(v.value=e(v.value));let{done:S}=v;!T&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return w&&c!==qe&&(v.value=wt(a,this.options,g,this.speed)),f&&f(v.value),w&&this.finish(),v}then(n,r){return this.finished.then(n,r)}get duration(){return ie(this.calculatedDuration)}get time(){return ie(this.currentTime)}set time(n){n=te(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Q.now());const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=ie(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=ss,startTime:r}=this.options;this.driver||(this.driver=n(s=>this.tick(s))),this.options.onPlay?.();const p=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=p):this.holdTime!==null?this.startTime=p-this.holdTime:this.startTime||(this.startTime=r??p),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Q.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function ys(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const le=t=>t*180/Math.PI,_e=t=>{const n=le(Math.atan2(t[1],t[0]));return et(n)},Ss={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:_e,rotateZ:_e,skewX:t=>le(Math.atan(t[1])),skewY:t=>le(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},et=t=>(t=t%360,t<0&&(t+=360),t),Ut=_e,Gt=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$t=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ws={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gt,scaleY:$t,scale:t=>(Gt(t)+$t(t))/2,rotateX:t=>et(le(Math.atan2(t[6],t[5]))),rotateY:t=>et(le(Math.atan2(-t[2],t[0]))),rotateZ:Ut,rotate:Ut,skewX:t=>le(Math.atan(t[4])),skewY:t=>le(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tt(t){return t.includes("scale")?1:0}function nt(t,n){if(!t||t==="none")return tt(n);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let p,s;if(r)p=ws,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);p=Ss,s=u}if(!s)return tt(n);const e=p[n],o=s[1].split(",").map(Ms);return typeof e=="function"?e(o):o[e]}const Ts=(t,n)=>{const{transform:r="none"}=getComputedStyle(t);return nt(r,n)};function Ms(t){return parseFloat(t.trim())}const ve=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xe=new Set(ve),zt=t=>t===me||t===O,Cs=new Set(["x","y","z"]),Ps=ve.filter(t=>!Cs.has(t));function As(t){const n=[];return Ps.forEach(r=>{const p=t.getValue(r);p!==void 0&&(n.push([r,p.get()]),p.set(r.startsWith("scale")?1:0))}),n}const ue={width:({x:t},{paddingLeft:n="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),height:({y:t},{paddingTop:n="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(n)-parseFloat(r),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>nt(n,"x"),y:(t,{transform:n})=>nt(n,"y")};ue.translateX=ue.x;ue.translateY=ue.y;const fe=new Set;let it=!1,st=!1,rt=!1;function Kn(){if(st){const t=Array.from(fe).filter(p=>p.needsMeasurement),n=new Set(t.map(p=>p.element)),r=new Map;n.forEach(p=>{const s=As(p);s.length&&(r.set(p,s),p.render())}),t.forEach(p=>p.measureInitialState()),n.forEach(p=>{p.render();const s=r.get(p);s&&s.forEach(([e,o])=>{p.getValue(e)?.set(o)})}),t.forEach(p=>p.measureEndState()),t.forEach(p=>{p.suspendedScrollY!==void 0&&window.scrollTo(0,p.suspendedScrollY)})}st=!1,it=!1,fe.forEach(t=>t.complete(rt)),fe.clear()}function Un(){fe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(st=!0)})}function Vs(){rt=!0,Un(),Kn(),rt=!1}class Ct{constructor(n,r,p,s,e,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=p,this.motionValue=s,this.element=e,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fe.add(this),it||(it=!0,re.read(Un),re.resolveKeyframes(Kn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:p,motionValue:s}=this;if(n[0]===null){const e=s?.get(),o=n[n.length-1];if(e!==void 0)n[0]=e;else if(p&&r){const u=p.readValue(r,o);u!=null&&(n[0]=u)}n[0]===void 0&&(n[0]=o),s&&e===void 0&&s.set(n[0])}ys(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),fe.delete(this)}cancel(){this.state==="scheduled"&&(fe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Is=t=>t.startsWith("--");function Ds(t,n,r){Is(n)?t.style.setProperty(n,r):t.style[n]=r}const Fs=ct(()=>window.ScrollTimeline!==void 0),Bs={};function bs(t,n){const r=ct(t);return()=>Bs[n]??r()}const Gn=bs(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ye=([t,n,r,p])=>`cubic-bezier(${t}, ${n}, ${r}, ${p})`,Xt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ye([0,.65,.55,1]),circOut:ye([.55,0,1,.45]),backIn:ye([.31,.01,.66,-.59]),backOut:ye([.33,1.53,.69,.99])};function $n(t,n){if(t)return typeof t=="function"?Gn()?On(t,n):"ease-out":Cn(t)?ye(t):Array.isArray(t)?t.map(r=>$n(r,n)||Xt.easeOut):Xt[t]}function Es(t,n,r,{delay:p=0,duration:s=300,repeat:e=0,repeatType:o="loop",ease:u="easeOut",times:l}={},d=void 0){const a={[n]:r};l&&(a.offset=l);const m=$n(u,s);Array.isArray(m)&&(a.easing=m);const h={delay:p,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:e+1,direction:o==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(a,h)}function Pt(t){return typeof t=="function"&&"applyToOptions"in t}function Rs({type:t,...n}){return Pt(t)&&Gn()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class Os extends Tt{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:r,name:p,keyframes:s,pseudoElement:e,allowFlatten:o=!1,finalKeyframe:u,onComplete:l}=n;this.isPseudoElement=!!e,this.allowFlatten=o,this.options=n,ft(typeof n.type!="string");const d=Rs(n);this.animation=Es(r,p,s,d,e),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!e){const a=wt(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(a):Ds(r,p,a),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return ie(Number(n))}get time(){return ie(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=te(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&Fs()?(this.animation.timeline=n,pe):r(this)}}const zn={anticipate:yn,backInOut:xn,circInOut:Sn};function Ls(t){return t in zn}function ks(t){typeof t.ease=="string"&&Ls(t.ease)&&(t.ease=zn[t.ease])}const Zt=10;class Ns extends Os{constructor(n){ks(n),Hn(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:r,onUpdate:p,onComplete:s,element:e,...o}=this.options;if(!r)return;if(n!==void 0){r.set(n);return}const u=new Mt({...o,autoplay:!1}),l=te(this.finishedTime??this.time);r.setWithVelocity(u.sample(l-Zt).value,u.sample(l).value,Zt),u.stop()}}const Yt=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ge.test(t)||t==="0")&&!t.startsWith("url("));function Ws(t){const n=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Hs(t,n,r,p){const s=t[0];if(s===null)return!1;if(n==="display"||n==="visibility")return!0;const e=t[t.length-1],o=Yt(s,n),u=Yt(e,n);return!o||!u?!1:Ws(t)||(r==="spring"||Pt(r))&&p}const Ks=new Set(["opacity","clipPath","filter","transform"]),Us=ct(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gs(t){const{motionValue:n,name:r,repeatDelay:p,repeatType:s,damping:e,type:o}=t;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=n.owner.getProps();return Us()&&r&&Ks.has(r)&&(r!=="transform"||!d)&&!l&&!p&&s!=="mirror"&&e!==0&&o!=="inertia"}const $s=40;class zs extends Tt{constructor({autoplay:n=!0,delay:r=0,type:p="keyframes",repeat:s=0,repeatDelay:e=0,repeatType:o="loop",keyframes:u,name:l,motionValue:d,element:a,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Q.now();const h={autoplay:n,delay:r,type:p,repeat:s,repeatDelay:e,repeatType:o,name:l,motionValue:d,element:a,...m},i=a?.KeyframeResolver||Ct;this.keyframeResolver=new i(u,(c,f,g)=>this.onKeyframesResolved(c,f,h,!g),l,d,a),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,r,p,s){this.keyframeResolver=void 0;const{name:e,type:o,velocity:u,delay:l,isHandoff:d,onUpdate:a}=p;this.resolvedAt=Q.now(),Hs(n,e,o,u)||((se.instantAnimations||!l)&&a?.(wt(n,p,r)),n[0]=n[n.length-1],p.duration=0,p.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$s?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...p,keyframes:n},i=!d&&Gs(h)?new Ns({...h,element:h.motionValue.owner.current}):new Mt(h);i.finished.then(()=>this.notifyFinished()).catch(pe),this.pendingTimeline&&(this.stopTimeline=i.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=i}get finished(){return this._animation?this.animation.finished:this._finished}then(n,r){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Vs()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class Xs{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>n.finished))}getAll(n){return this.animations[0][n]}setAll(n,r){for(let p=0;p<this.animations.length;p++)this.animations[p][n]=r}attachTimeline(n){const r=this.animations.map(p=>p.attachTimeline(n));return()=>{r.forEach((p,s)=>{p&&p(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let r=0;r<this.animations.length;r++)n=Math.max(n,this.animations[r].duration);return n}runAll(n){this.animations.forEach(r=>r[n]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zs extends Xs{then(n,r){return this.finished.finally(n).then(()=>{})}}const Ys=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qs(t){const n=Ys.exec(t);if(!n)return[,];const[,r,p,s]=n;return[`--${r??p}`,s]}function Xn(t,n,r=1){const[p,s]=Qs(t);if(!p)return;const e=window.getComputedStyle(n).getPropertyValue(p);if(e){const o=e.trim();return fn(o)?parseFloat(o):o}return gt(s)?Xn(s,n,r+1):s}function Zn(t,n){return t?.[n]??t?.default??t}const Yn=new Set(["width","height","top","left","right","bottom",...ve]),js={test:t=>t==="auto",parse:t=>t},Qn=t=>n=>n.test(t),jn=[me,O,de,ae,Ui,Ki,js],Qt=t=>jn.find(Qn(t));function Js(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cn(t):!0}const qs=new Set(["brightness","contrast","saturate","opacity"]);function _s(t){const[n,r]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[p]=r.match(vt)||[];if(!p)return t;const s=r.replace(p,"");let e=qs.has(n)?1:0;return p!==r&&(e*=100),n+"("+e+s+")"}const er=/\b([a-z-]*)\(.*?\)/gu,at={...ge,getAnimatableNone:t=>{const n=t.match(er);return n?n.map(_s).join(" "):t}},jt={...me,transform:Math.round},tr={rotate:ae,rotateX:ae,rotateY:ae,rotateZ:ae,scale:Oe,scaleX:Oe,scaleY:Oe,scaleZ:Oe,skew:ae,skewX:ae,skewY:ae,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:Me,originX:kt,originY:kt,originZ:O},At={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O,...tr,zIndex:jt,fillOpacity:Me,strokeOpacity:Me,numOctaves:jt},nr={...At,color:G,backgroundColor:G,outlineColor:G,fill:G,stroke:G,borderColor:G,borderTopColor:G,borderRightColor:G,borderBottomColor:G,borderLeftColor:G,filter:at,WebkitFilter:at},Jn=t=>nr[t];function qn(t,n){let r=Jn(t);return r!==at&&(r=ge),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const ir=new Set(["auto","none","0"]);function sr(t,n,r){let p=0,s;for(;p<t.length&&!s;){const e=t[p];typeof e=="string"&&!ir.has(e)&&Ce(e).values.length&&(s=t[p]),p++}if(s&&r)for(const e of n)t[e]=qn(r,s)}class rr extends Ct{constructor(n,r,p,s,e){super(n,r,p,s,e,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:p}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<n.length;l++){let d=n[l];if(typeof d=="string"&&(d=d.trim(),gt(d))){const a=Xn(d,r.current);a!==void 0&&(n[l]=a),l===n.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Yn.has(p)||n.length!==2)return;const[s,e]=n,o=Qt(s),u=Qt(e);if(o!==u)if(zt(o)&&zt(u))for(let l=0;l<n.length;l++){const d=n[l];typeof d=="string"&&(n[l]=parseFloat(d))}else ue[p]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,p=[];for(let s=0;s<n.length;s++)(n[s]===null||Js(n[s]))&&p.push(s);p.length&&sr(n,p,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:p}=this;if(!n||!n.current)return;p==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ue[p](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&n.getValue(p,s).jump(s,!1)}measureEndState(){const{element:n,name:r,unresolvedKeyframes:p}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const e=p.length-1,o=p[e];p[e]=ue[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,l])=>{n.getValue(u).set(l)}),this.resolveNoneKeyframes()}}function _n(t,n,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let p=document;const s=r?.[t]??p.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const ei=(t,n)=>n&&typeof t=="number"?n.transform(t):t,Jt=30,ar=t=>!isNaN(parseFloat(t));class or{constructor(n,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(p,s=!0)=>{const e=Q.now();if(this.updatedAt!==e&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(p),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=Q.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=ar(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new hn);const p=this.events[n].add(r);return n==="change"?()=>{p(),re.read(()=>{this.events.change.getSize()||this.stop()})}:p}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n,r=!0){!r||!this.passiveEffect?this.updateAndNotify(n,r):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,r,p){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-p}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Q.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Jt)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Jt);return dn(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ae(t,n){return new or(t,n)}const{schedule:lr}=Pn(queueMicrotask,!1);function ti(t){return wi(t)&&"ownerSVGElement"in t}function ur(t){return ti(t)&&t.tagName==="svg"}function fr(t,n){if(t==="first")return 0;{const r=n-1;return t==="last"?r:r/2}}function cr(t=.1,{startDelay:n=0,from:r=0,ease:p}={}){return(s,e)=>{const o=typeof r=="number"?r:fr(r,e),u=Math.abs(o-s);let l=t*u;if(p){const d=e*t;l=Ze(p)(l/d)*d}return n+l}}const Z=t=>!!(t&&t.getVelocity),hr=[...jn,G,ge],dr=t=>hr.find(Qn(t));function Vt(t){return typeof t=="object"&&!Array.isArray(t)}function ni(t,n,r,p){return typeof t=="string"&&Vt(n)?_n(t,r,p):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function pr(t,n,r){return t*(n+1)}function qt(t,n,r,p){return typeof n=="number"?n:n.startsWith("-")||n.startsWith("+")?Math.max(0,t+parseFloat(n)):n==="<"?r:n.startsWith("<")?Math.max(0,r+parseFloat(n.slice(1))):p.get(n)??t}function mr(t,n,r){for(let p=0;p<t.length;p++){const s=t[p];s.at>n&&s.at<r&&(un(t,s),p--)}}function gr(t,n,r,p,s,e){mr(t,s,e);for(let o=0;o<n.length;o++)t.push({value:n[o],at:Fe(s,e,p[o]),easing:Mn(r,o)})}function vr(t,n){for(let r=0;r<t.length;r++)t[r]=t[r]/(n+1)}function xr(t,n){return t.at===n.at?t.value===null?1:n.value===null?-1:0:t.at-n.at}const yr="easeInOut";function Sr(t,{defaultTransition:n={},...r}={},p,s){const e=n.duration||.3,o=new Map,u=new Map,l={},d=new Map;let a=0,m=0,h=0;for(let i=0;i<t.length;i++){const c=t[i];if(typeof c=="string"){d.set(c,m);continue}else if(!Array.isArray(c)){d.set(c.name,qt(m,c.at,a,d));continue}let[f,g,y={}]=c;y.at!==void 0&&(m=qt(m,y.at,a,d));let T=0;const P=(A,v,S,w=0,x=0)=>{const C=wr(A),{delay:M=0,times:V=Wn(C),type:I="keyframes",repeat:D,repeatType:B,repeatDelay:F=0,...E}=v;let{ease:b=n.ease||"easeOut",duration:R}=v;const k=typeof M=="function"?M(w,x):M,N=C.length,K=Pt(I)?I:s?.[I||"keyframes"];if(N<=2&&K){let z=100;if(N===2&&Cr(C)){const W=C[1]-C[0];z=Math.abs(W)}const L={...E};R!==void 0&&(L.duration=te(R));const X=Ln(L,z,K);b=X.ease,R=X.duration}R??(R=e);const U=m+k;V.length===1&&V[0]===0&&(V[1]=1);const $=V.length-C.length;if($>0&&Nn(V,$),C.length===1&&C.unshift(null),D){R=pr(R,D);const z=[...C],L=[...V];b=Array.isArray(b)?[...b]:[b];const X=[...b];for(let W=0;W<D;W++){C.push(...z);for(let J=0;J<z.length;J++)V.push(L[J]+(W+1)),b.push(J===0?"linear":Mn(X,J-1))}vr(V,D)}const j=U+R;gr(S,C,b,V,U,j),T=Math.max(k+R,T),h=Math.max(j,h)};if(Z(f)){const A=_t(f,u);P(g,y,en("default",A))}else{const A=ni(f,g,p,l),v=A.length;for(let S=0;S<v;S++){g=g,y=y;const w=A[S],x=_t(w,u);for(const C in g)P(g[C],Tr(y,C),en(C,x),S,v)}}a=m,m+=T}return u.forEach((i,c)=>{for(const f in i){const g=i[f];g.sort(xr);const y=[],T=[],P=[];for(let v=0;v<g.length;v++){const{at:S,value:w,easing:x}=g[v];y.push(w),T.push(dt(0,h,S)),P.push(x||"easeOut")}T[0]!==0&&(T.unshift(0),y.unshift(y[0]),P.unshift(yr)),T[T.length-1]!==1&&(T.push(1),y.push(null)),o.has(c)||o.set(c,{keyframes:{},transition:{}});const A=o.get(c);A.keyframes[f]=y,A.transition[f]={...n,duration:h,ease:P,times:T,...r}}}),o}function _t(t,n){return!n.has(t)&&n.set(t,{}),n.get(t)}function en(t,n){return n[t]||(n[t]=[]),n[t]}function wr(t){return Array.isArray(t)?t:[t]}function Tr(t,n){return t&&t[n]?{...t,...t[n]}:{...t}}const Mr=t=>typeof t=="number",Cr=t=>t.every(Mr),Ve=new WeakMap,Pr=t=>Array.isArray(t);function tn(t){const n=[{},{}];return t?.values.forEach((r,p)=>{n[0][p]=r.get(),n[1][p]=r.getVelocity()}),n}function ii(t,n,r,p){if(typeof n=="function"){const[s,e]=tn(p);n=n(r!==void 0?r:t.custom,s,e)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[s,e]=tn(p);n=n(r!==void 0?r:t.custom,s,e)}return n}function Ar(t,n,r){const p=t.getProps();return ii(p,n,p.custom,t)}function Vr(t,n,r){t.hasValue(n)?t.getValue(n).set(r):t.addValue(n,Ae(r))}function Ir(t){return Pr(t)?t[t.length-1]||0:t}function Dr(t,n){const r=Ar(t,n);let{transitionEnd:p={},transition:s={},...e}=r||{};e={...e,...p};for(const o in e){const u=Ir(e[o]);Vr(t,o,u)}}function Fr(t){return!!(Z(t)&&t.add)}function Br(t,n){const r=t.getValue("willChange");if(Fr(r))return r.add(n);if(!r&&se.WillChange){const p=new se.WillChange("auto");t.addValue("willChange",p),p.add(n)}}const It=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),br="framerAppearId",Er="data-"+It(br);function Rr(t){return t.props[Er]}const Or=t=>t!==null;function Lr(t,{repeat:n,repeatType:r="loop"},p){const s=t.filter(Or),e=n&&r!=="loop"&&n%2===1?0:s.length-1;return s[e]}const kr={type:"spring",stiffness:500,damping:25,restSpeed:10},Nr=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Wr={type:"keyframes",duration:.8},Hr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kr=(t,{keyframes:n})=>n.length>2?Wr:xe.has(t)?t.startsWith("scale")?Nr(n[1]):kr:Hr;function Ur({when:t,delay:n,delayChildren:r,staggerChildren:p,staggerDirection:s,repeat:e,repeatType:o,repeatDelay:u,from:l,elapsed:d,...a}){return!!Object.keys(a).length}const si=(t,n,r,p={},s,e)=>o=>{const u=Zn(p,t)||{},l=u.delay||p.delay||0;let{elapsed:d=0}=p;d=d-te(l);const a={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...u,delay:-d,onUpdate:h=>{n.set(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:n,element:e?void 0:s};Ur(u)||Object.assign(a,Kr(t,a)),a.duration&&(a.duration=te(a.duration)),a.repeatDelay&&(a.repeatDelay=te(a.repeatDelay)),a.from!==void 0&&(a.keyframes[0]=a.from);let m=!1;if((a.type===!1||a.duration===0&&!a.repeatDelay)&&(a.duration=0,a.delay===0&&(m=!0)),(se.instantAnimations||se.skipAnimations)&&(m=!0,a.duration=0,a.delay=0),a.allowFlatten=!u.type&&!u.ease,m&&!e&&n.get()!==void 0){const h=Lr(a.keyframes,u);if(h!==void 0){re.update(()=>{a.onUpdate(h),a.onComplete()});return}}return u.isSync?new Mt(a):new zs(a)};function Gr({protectedKeys:t,needsAnimating:n},r){const p=t.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,p}function $r(t,n,{delay:r=0,transitionOverride:p,type:s}={}){let{transition:e=t.getDefaultTransition(),transitionEnd:o,...u}=n;p&&(e=p);const l=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const a in u){const m=t.getValue(a,t.latestValues[a]??null),h=u[a];if(h===void 0||d&&Gr(d,a))continue;const i={delay:r,...Zn(e||{},a)},c=m.get();if(c!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===c&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const y=Rr(t);if(y){const T=window.MotionHandoffAnimation(y,a,re);T!==null&&(i.startTime=T,f=!0)}}Br(t,a),m.start(si(a,m,h,t.shouldReduceMotion&&Yn.has(a)?{type:!1}:i,t,f));const g=m.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{re.update(()=>{o&&Dr(t,o)})}),l}function zr({top:t,left:n,right:r,bottom:p}){return{x:{min:n,max:r},y:{min:t,max:p}}}function Xr(t,n){if(!n)return t;const r=n({x:t.left,y:t.top}),p=n({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:p.y,right:p.x}}function Zr(t,n){return zr(Xr(t.getBoundingClientRect(),n))}const nn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ot={};for(const t in nn)ot[t]={isEnabled:n=>nn[t].some(r=>!!n[r])};const sn=()=>({min:0,max:0}),Dt=()=>({x:sn(),y:sn()}),Yr=typeof window<"u",lt={current:null},ri={current:!1};function Qr(){if(ri.current=!0,!!Yr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>lt.current=t.matches;t.addEventListener("change",n),n()}else lt.current=!1}function jr(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jr(t){return typeof t=="string"||Array.isArray(t)}const qr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_r=["initial",...qr];function ai(t){return jr(t.animate)||_r.some(n=>Jr(t[n]))}function ea(t){return!!(ai(t)||t.variants)}function ta(t,n,r){for(const p in n){const s=n[p],e=r[p];if(Z(s))t.addValue(p,s);else if(Z(e))t.addValue(p,Ae(s,{owner:t}));else if(e!==s)if(t.hasValue(p)){const o=t.getValue(p);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(p);t.addValue(p,Ae(o!==void 0?o:s,{owner:t}))}}for(const p in r)n[p]===void 0&&t.removeValue(p);return n}const rn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oi{scrapeMotionValuesFromProps(n,r,p){return{}}constructor({parent:n,props:r,presenceContext:p,reducedMotionConfig:s,blockInitialAnimation:e,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ct,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Q.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,re.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=d,this.parent=n,this.props=r,this.presenceContext=p,this.depth=n?n.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!e,this.isControllingVariants=ai(r),this.isVariantNode=ea(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:a,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in m){const i=m[h];l[h]!==void 0&&Z(i)&&i.set(l[h],!1)}}mount(n){this.current=n,Ve.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,p)=>this.bindToMotionValue(p,r)),ri.current||Qr(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lt.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ye(this.notifyUpdate),Ye(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const p=xe.has(n);p&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&re.preRender(this.notifyUpdate),p&&this.projection&&(this.projection.isTransformDirty=!0)}),e=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{s(),e(),o&&o(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in ot){const r=ot[n];if(!r)continue;const{isEnabled:p,Feature:s}=r;if(!this.features[n]&&s&&p(this.props)&&(this.features[n]=new s(this)),this.features[n]){const e=this.features[n];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let p=0;p<rn.length;p++){const s=rn[p];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const e="on"+s,o=n[e];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ta(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const p=this.values.get(n);r!==p&&(p&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let p=this.values.get(n);return p===void 0&&r!==void 0&&(p=Ae(r===null?void 0:r,{owner:this}),this.addValue(n,p)),p}readValue(n,r){let p=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return p!=null&&(typeof p=="string"&&(fn(p)||cn(p))?p=parseFloat(p):!dr(p)&&ge.test(r)&&(p=qn(n,r)),this.setBaseTarget(n,Z(p)?p.get():p)),Z(p)?p.get():p}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){const{initial:r}=this.props;let p;if(typeof r=="string"||typeof r=="object"){const e=ii(this.props,r,this.presenceContext?.custom);e&&(p=e[n])}if(r&&p!==void 0)return p;const s=this.getBaseTargetFromProps(this.props,n);return s!==void 0&&!Z(s)?s:this.initialValues[n]!==void 0&&p===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new hn),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}scheduleRenderMicrotask(){lr.render(this.render)}}class li extends oi{constructor(){super(...arguments),this.KeyframeResolver=rr}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:p}){delete r[n],delete p[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Z(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}const na={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ia=ve.length;function sa(t,n,r){let p="",s=!0;for(let e=0;e<ia;e++){const o=ve[e],u=t[o];if(u===void 0)continue;let l=!0;if(typeof u=="number"?l=u===(o.startsWith("scale")?1:0):l=parseFloat(u)===0,!l||r){const d=ei(u,At[o]);if(!l){s=!1;const a=na[o]||o;p+=`${a}(${d}) `}r&&(n[o]=d)}}return p=p.trim(),r?p=r(n,s?"":p):s&&(p="none"),p}function ui(t,n,r){const{style:p,vars:s,transformOrigin:e}=t;let o=!1,u=!1;for(const l in n){const d=n[l];if(xe.has(l)){o=!0;continue}else if(Vn(l)){s[l]=d;continue}else{const a=ei(d,At[l]);l.startsWith("origin")?(u=!0,e[l]=a):p[l]=a}}if(n.transform||(o||r?p.transform=sa(n,t.transform,r):p.transform&&(p.transform="none")),u){const{originX:l="50%",originY:d="50%",originZ:a=0}=e;p.transformOrigin=`${l} ${d} ${a}`}}function fi(t,{style:n,vars:r},p,s){const e=t.style;let o;for(o in n)e[o]=n[o];s?.applyProjectionStyles(e,p);for(o in r)e.setProperty(o,r[o])}const ra={};function aa(t,{layout:n,layoutId:r}){return xe.has(t)||t.startsWith("origin")||(n||r!==void 0)&&(!!ra[t]||t==="opacity")}function ci(t,n,r){const{style:p}=t,s={};for(const e in p)(Z(p[e])||n.style&&Z(n.style[e])||aa(e,t)||r?.getValue(e)?.liveStyle!==void 0)&&(s[e]=p[e]);return s}function oa(t){return window.getComputedStyle(t)}class la extends li{constructor(){super(...arguments),this.type="html",this.renderInstance=fi}readValueFromInstance(n,r){if(xe.has(r))return this.projection?.isProjecting?tt(r):Ts(n,r);{const p=oa(n),s=(Vn(r)?p.getPropertyValue(r):p[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(n,{transformPagePoint:r}){return Zr(n,r)}build(n,r,p){ui(n,r,p.transformTemplate)}scrapeMotionValuesFromProps(n,r,p){return ci(n,r,p)}}function ua(t,n){return t in n}class fa extends oi{constructor(){super(...arguments),this.type="object"}readValueFromInstance(n,r){if(ua(r,n)){const p=n[r];if(typeof p=="string"||typeof p=="number")return p}}getBaseTargetFromProps(){}removeValueFromRenderState(n,r){delete r.output[n]}measureInstanceViewportBox(){return Dt()}build(n,r){Object.assign(n.output,r)}renderInstance(n,{output:r}){Object.assign(n,r)}sortInstanceNodePosition(){return 0}}const ca={offset:"stroke-dashoffset",array:"stroke-dasharray"},ha={offset:"strokeDashoffset",array:"strokeDasharray"};function da(t,n,r=1,p=0,s=!0){t.pathLength=1;const e=s?ca:ha;t[e.offset]=O.transform(-p);const o=O.transform(n),u=O.transform(r);t[e.array]=`${o} ${u}`}function pa(t,{attrX:n,attrY:r,attrScale:p,pathLength:s,pathSpacing:e=1,pathOffset:o=0,...u},l,d,a){if(ui(t,u,d),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:h}=t;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=a?.transformBox??"fill-box",delete m.transformBox),n!==void 0&&(m.x=n),r!==void 0&&(m.y=r),p!==void 0&&(m.scale=p),s!==void 0&&da(m,s,e,o,!1)}const hi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ma=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ga(t,n,r,p){fi(t,n,void 0,p);for(const s in n.attrs)t.setAttribute(hi.has(s)?s:It(s),n.attrs[s])}function va(t,n,r){const p=ci(t,n,r);for(const s in t)if(Z(t[s])||Z(n[s])){const e=ve.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;p[e]=t[s]}return p}class xa extends li{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(xe.has(r)){const p=Jn(r);return p&&p.default||0}return r=hi.has(r)?r:It(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,p){return va(n,r,p)}build(n,r,p){pa(n,r,this.isSVGTag,p.transformTemplate,p.style)}renderInstance(n,r,p,s){ga(n,r,p,s)}mount(n){this.isSVGTag=ma(n.tagName),super.mount(n)}}function ya(t){const n={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=ti(t)&&!ur(t)?new xa(n):new la(n);r.mount(t),Ve.set(t,r)}function Sa(t){const n={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new fa(n);r.mount(t),Ve.set(t,r)}function wa(t,n,r){const p=Z(t)?t:Ae(t);return p.start(si("",p,n,r)),p.animation}function Ta(t,n){return Z(t)||typeof t=="number"||typeof t=="string"&&!Vt(n)}function di(t,n,r,p){const s=[];if(Ta(t,n))s.push(wa(t,Vt(n)&&n.default||n,r&&(r.default||r)));else{const e=ni(t,n,p),o=e.length;for(let u=0;u<o;u++){const l=e[u],d=l instanceof Element?ya:Sa;Ve.has(l)||d(l);const a=Ve.get(l),m={...r};"delay"in m&&typeof m.delay=="function"&&(m.delay=m.delay(u,o)),s.push(...$r(a,{...n,transition:m},{}))}}return s}function Ma(t,n,r){const p=[];return Sr(t,n,r,{spring:Pe}).forEach(({keyframes:e,transition:o},u)=>{p.push(...di(u,e,o))}),p}function Ca(t){return Array.isArray(t)&&t.some(Array.isArray)}function Pa(t){function n(r,p,s){let e=[];return Ca(r)?e=Ma(r,p,t):e=di(r,p,s,t),new Zs(e)}return n}const Aa=Pa(),Va={some:0,all:1};function Ia(t,n,{root:r,margin:p,amount:s="some"}={}){const e=_n(t),o=new WeakMap,u=d=>{d.forEach(a=>{const m=o.get(a.target);if(a.isIntersecting!==!!m)if(a.isIntersecting){const h=n(a.target,a);typeof h=="function"?o.set(a.target,h):l.unobserve(a.target)}else typeof m=="function"&&(m(a),o.delete(a.target))})},l=new IntersectionObserver(u,{root:r,rootMargin:p,threshold:typeof s=="number"?s:Va[s]});return e.forEach(d=>l.observe(d)),()=>l.disconnect()}const Da=()=>`<div class="message">
        <div class="message-text-wrapper">
            <p class="message-text">${[..."Heeeeey!"].map(r=>`<span class="message-text-character">${r}</span>`).join("")}</p>
        </div>
    </div>`,Fa=async()=>{await Aa(".message-text-character",{opacity:[0,1]},{delay:cr(.1)})},Ba=async()=>{const t=Da();ln(t,"#app"),await Fa()};var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ke={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ea=ke.exports,on;function Ra(){return on||(on=1,function(t,n){(function(p,s){t.exports=s()})(Ea,function(){return function(r){var p={};function s(e){if(p[e])return p[e].exports;var o=p[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=p,s.d=function(e,o,u){s.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:u})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,o){if(o&1&&(e=s(e)),o&8||o&4&&typeof e=="object"&&e&&e.__esModule)return e;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),o&2&&typeof e!="string")for(var l in e)s.d(u,l,(function(d){return e[d]}).bind(null,l));return u},s.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(o,"a",o),o},s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},s.p="",s(s.s=20)}([function(r,p){var s={};r.exports=s,function(){s._baseDelta=1e3/60,s._nextId=0,s._seed=0,s._nowStartTime=+new Date,s._warnedOnce={},s._decomp=null,s.extend=function(o,u){var l,d;typeof u=="boolean"?(l=2,d=u):(l=1,d=!0);for(var a=l;a<arguments.length;a++){var m=arguments[a];if(m)for(var h in m)d&&m[h]&&m[h].constructor===Object&&(!o[h]||o[h].constructor===Object)?(o[h]=o[h]||{},s.extend(o[h],d,m[h])):o[h]=m[h]}return o},s.clone=function(o,u){return s.extend({},u,o)},s.keys=function(o){if(Object.keys)return Object.keys(o);var u=[];for(var l in o)u.push(l);return u},s.values=function(o){var u=[];if(Object.keys){for(var l=Object.keys(o),d=0;d<l.length;d++)u.push(o[l[d]]);return u}for(var a in o)u.push(o[a]);return u},s.get=function(o,u,l,d){u=u.split(".").slice(l,d);for(var a=0;a<u.length;a+=1)o=o[u[a]];return o},s.set=function(o,u,l,d,a){var m=u.split(".").slice(d,a);return s.get(o,u,0,-1)[m[m.length-1]]=l,l},s.shuffle=function(o){for(var u=o.length-1;u>0;u--){var l=Math.floor(s.random()*(u+1)),d=o[u];o[u]=o[l],o[l]=d}return o},s.choose=function(o){return o[Math.floor(s.random()*o.length)]},s.isElement=function(o){return typeof HTMLElement<"u"?o instanceof HTMLElement:!!(o&&o.nodeType&&o.nodeName)},s.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"},s.isFunction=function(o){return typeof o=="function"},s.isPlainObject=function(o){return typeof o=="object"&&o.constructor===Object},s.isString=function(o){return toString.call(o)==="[object String]"},s.clamp=function(o,u,l){return o<u?u:o>l?l:o},s.sign=function(o){return o<0?-1:1},s.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-s._nowStartTime},s.random=function(o,u){return o=typeof o<"u"?o:0,u=typeof u<"u"?u:1,o+e()*(u-o)};var e=function(){return s._seed=(s._seed*9301+49297)%233280,s._seed/233280};s.colorToNumber=function(o){return o=o.replace("#",""),o.length==3&&(o=o.charAt(0)+o.charAt(0)+o.charAt(1)+o.charAt(1)+o.charAt(2)+o.charAt(2)),parseInt(o,16)},s.logLevel=1,s.log=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.info=function(){console&&s.logLevel>0&&s.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warn=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warnOnce=function(){var o=Array.prototype.slice.call(arguments).join(" ");s._warnedOnce[o]||(s.warn(o),s._warnedOnce[o]=!0)},s.deprecated=function(o,u,l){o[u]=s.chain(function(){s.warnOnce(" deprecated ",l)},o[u])},s.nextId=function(){return s._nextId++},s.indexOf=function(o,u){if(o.indexOf)return o.indexOf(u);for(var l=0;l<o.length;l++)if(o[l]===u)return l;return-1},s.map=function(o,u){if(o.map)return o.map(u);for(var l=[],d=0;d<o.length;d+=1)l.push(u(o[d]));return l},s.topologicalSort=function(o){var u=[],l=[],d=[];for(var a in o)!l[a]&&!d[a]&&s._topologicalSort(a,l,d,o,u);return u},s._topologicalSort=function(o,u,l,d,a){var m=d[o]||[];l[o]=!0;for(var h=0;h<m.length;h+=1){var i=m[h];l[i]||u[i]||s._topologicalSort(i,u,l,d,a)}l[o]=!1,u[o]=!0,a.push(o)},s.chain=function(){for(var o=[],u=0;u<arguments.length;u+=1){var l=arguments[u];l._chained?o.push.apply(o,l._chained):o.push(l)}var d=function(){for(var a,m=new Array(arguments.length),h=0,i=arguments.length;h<i;h++)m[h]=arguments[h];for(h=0;h<o.length;h+=1){var c=o[h].apply(a,m);typeof c<"u"&&(a=c)}return a};return d._chained=o,d},s.chainPathBefore=function(o,u,l){return s.set(o,u,s.chain(l,s.get(o,u)))},s.chainPathAfter=function(o,u,l){return s.set(o,u,s.chain(s.get(o,u),l))},s.setDecomp=function(o){s._decomp=o},s.getDecomp=function(){var o=s._decomp;try{!o&&typeof window<"u"&&(o=window.decomp),!o&&typeof an<"u"&&(o=an.decomp)}catch{o=null}return o}}()},function(r,p){var s={};r.exports=s,function(){s.create=function(e){var o={min:{x:0,y:0},max:{x:0,y:0}};return e&&s.update(o,e),o},s.update=function(e,o,u){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var l=0;l<o.length;l++){var d=o[l];d.x>e.max.x&&(e.max.x=d.x),d.x<e.min.x&&(e.min.x=d.x),d.y>e.max.y&&(e.max.y=d.y),d.y<e.min.y&&(e.min.y=d.y)}u&&(u.x>0?e.max.x+=u.x:e.min.x+=u.x,u.y>0?e.max.y+=u.y:e.min.y+=u.y)},s.contains=function(e,o){return o.x>=e.min.x&&o.x<=e.max.x&&o.y>=e.min.y&&o.y<=e.max.y},s.overlaps=function(e,o){return e.min.x<=o.max.x&&e.max.x>=o.min.x&&e.max.y>=o.min.y&&e.min.y<=o.max.y},s.translate=function(e,o){e.min.x+=o.x,e.max.x+=o.x,e.min.y+=o.y,e.max.y+=o.y},s.shift=function(e,o){var u=e.max.x-e.min.x,l=e.max.y-e.min.y;e.min.x=o.x,e.max.x=o.x+u,e.min.y=o.y,e.max.y=o.y+l}}()},function(r,p){var s={};r.exports=s,function(){s.create=function(e,o){return{x:e||0,y:o||0}},s.clone=function(e){return{x:e.x,y:e.y}},s.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},s.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},s.rotate=function(e,o,u){var l=Math.cos(o),d=Math.sin(o);u||(u={});var a=e.x*l-e.y*d;return u.y=e.x*d+e.y*l,u.x=a,u},s.rotateAbout=function(e,o,u,l){var d=Math.cos(o),a=Math.sin(o);l||(l={});var m=u.x+((e.x-u.x)*d-(e.y-u.y)*a);return l.y=u.y+((e.x-u.x)*a+(e.y-u.y)*d),l.x=m,l},s.normalise=function(e){var o=s.magnitude(e);return o===0?{x:0,y:0}:{x:e.x/o,y:e.y/o}},s.dot=function(e,o){return e.x*o.x+e.y*o.y},s.cross=function(e,o){return e.x*o.y-e.y*o.x},s.cross3=function(e,o,u){return(o.x-e.x)*(u.y-e.y)-(o.y-e.y)*(u.x-e.x)},s.add=function(e,o,u){return u||(u={}),u.x=e.x+o.x,u.y=e.y+o.y,u},s.sub=function(e,o,u){return u||(u={}),u.x=e.x-o.x,u.y=e.y-o.y,u},s.mult=function(e,o){return{x:e.x*o,y:e.y*o}},s.div=function(e,o){return{x:e.x/o,y:e.y/o}},s.perp=function(e,o){return o=o===!0?-1:1,{x:o*-e.y,y:o*e.x}},s.neg=function(e){return{x:-e.x,y:-e.y}},s.angle=function(e,o){return Math.atan2(o.y-e.y,o.x-e.x)},s._temp=[s.create(),s.create(),s.create(),s.create(),s.create(),s.create()]}()},function(r,p,s){var e={};r.exports=e;var o=s(2),u=s(0);(function(){e.create=function(l,d){for(var a=[],m=0;m<l.length;m++){var h=l[m],i={x:h.x,y:h.y,index:m,body:d,isInternal:!1};a.push(i)}return a},e.fromPath=function(l,d){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,m=[];return l.replace(a,function(h,i,c){m.push({x:parseFloat(i),y:parseFloat(c)})}),e.create(m,d)},e.centre=function(l){for(var d=e.area(l,!0),a={x:0,y:0},m,h,i,c=0;c<l.length;c++)i=(c+1)%l.length,m=o.cross(l[c],l[i]),h=o.mult(o.add(l[c],l[i]),m),a=o.add(a,h);return o.div(a,6*d)},e.mean=function(l){for(var d={x:0,y:0},a=0;a<l.length;a++)d.x+=l[a].x,d.y+=l[a].y;return o.div(d,l.length)},e.area=function(l,d){for(var a=0,m=l.length-1,h=0;h<l.length;h++)a+=(l[m].x-l[h].x)*(l[m].y+l[h].y),m=h;return d?a/2:Math.abs(a)/2},e.inertia=function(l,d){for(var a=0,m=0,h=l,i,c,f=0;f<h.length;f++)c=(f+1)%h.length,i=Math.abs(o.cross(h[c],h[f])),a+=i*(o.dot(h[c],h[c])+o.dot(h[c],h[f])+o.dot(h[f],h[f])),m+=i;return d/6*(a/m)},e.translate=function(l,d,a){a=typeof a<"u"?a:1;var m=l.length,h=d.x*a,i=d.y*a,c;for(c=0;c<m;c++)l[c].x+=h,l[c].y+=i;return l},e.rotate=function(l,d,a){if(d!==0){var m=Math.cos(d),h=Math.sin(d),i=a.x,c=a.y,f=l.length,g,y,T,P;for(P=0;P<f;P++)g=l[P],y=g.x-i,T=g.y-c,g.x=i+(y*m-T*h),g.y=c+(y*h+T*m);return l}},e.contains=function(l,d){for(var a=d.x,m=d.y,h=l.length,i=l[h-1],c,f=0;f<h;f++){if(c=l[f],(a-i.x)*(c.y-i.y)+(m-i.y)*(i.x-c.x)>0)return!1;i=c}return!0},e.scale=function(l,d,a,m){if(d===1&&a===1)return l;m=m||e.centre(l);for(var h,i,c=0;c<l.length;c++)h=l[c],i=o.sub(h,m),l[c].x=m.x+i.x*d,l[c].y=m.y+i.y*a;return l},e.chamfer=function(l,d,a,m,h){typeof d=="number"?d=[d]:d=d||[8],a=typeof a<"u"?a:-1,m=m||2,h=h||14;for(var i=[],c=0;c<l.length;c++){var f=l[c-1>=0?c-1:l.length-1],g=l[c],y=l[(c+1)%l.length],T=d[c<d.length?c:d.length-1];if(T===0){i.push(g);continue}var P=o.normalise({x:g.y-f.y,y:f.x-g.x}),A=o.normalise({x:y.y-g.y,y:g.x-y.x}),v=Math.sqrt(2*Math.pow(T,2)),S=o.mult(u.clone(P),T),w=o.normalise(o.mult(o.add(P,A),.5)),x=o.sub(g,o.mult(w,v)),C=a;a===-1&&(C=Math.pow(T,.32)*1.75),C=u.clamp(C,m,h),C%2===1&&(C+=1);for(var M=Math.acos(o.dot(P,A)),V=M/C,I=0;I<C;I++)i.push(o.add(o.rotate(S,V*I),x))}return i},e.clockwiseSort=function(l){var d=e.mean(l);return l.sort(function(a,m){return o.angle(d,a)-o.angle(d,m)}),l},e.isConvex=function(l){var d=0,a=l.length,m,h,i,c;if(a<3)return null;for(m=0;m<a;m++)if(h=(m+1)%a,i=(m+2)%a,c=(l[h].x-l[m].x)*(l[i].y-l[h].y),c-=(l[h].y-l[m].y)*(l[i].x-l[h].x),c<0?d|=1:c>0&&(d|=2),d===3)return!1;return d!==0?!0:null},e.hull=function(l){var d=[],a=[],m,h;for(l=l.slice(0),l.sort(function(i,c){var f=i.x-c.x;return f!==0?f:i.y-c.y}),h=0;h<l.length;h+=1){for(m=l[h];a.length>=2&&o.cross3(a[a.length-2],a[a.length-1],m)<=0;)a.pop();a.push(m)}for(h=l.length-1;h>=0;h-=1){for(m=l[h];d.length>=2&&o.cross3(d[d.length-2],d[d.length-1],m)<=0;)d.pop();d.push(m)}return d.pop(),a.pop(),d.concat(a)}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(2),l=s(7),d=s(0),a=s(1),m=s(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(i){var c={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},f=d.extend(c,i);return h(f,i),f},e.nextGroup=function(i){return i?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var h=function(i,c){c=c||{},e.set(i,{bounds:i.bounds||a.create(i.vertices),positionPrev:i.positionPrev||u.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),o.rotate(i.vertices,i.angle,i.position),m.rotate(i.axes,i.angle),a.update(i.bounds,i.vertices,i.velocity),e.set(i,{axes:c.axes||i.axes,area:c.area||i.area,mass:c.mass||i.mass,inertia:c.inertia||i.inertia});var f=i.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),g=i.isStatic?"#555":"#ccc",y=i.isStatic&&i.render.fillStyle===null?1:0;i.render.fillStyle=i.render.fillStyle||f,i.render.strokeStyle=i.render.strokeStyle||g,i.render.lineWidth=i.render.lineWidth||y,i.render.sprite.xOffset+=-(i.bounds.min.x-i.position.x)/(i.bounds.max.x-i.bounds.min.x),i.render.sprite.yOffset+=-(i.bounds.min.y-i.position.y)/(i.bounds.max.y-i.bounds.min.y)};e.set=function(i,c,f){var g;typeof c=="string"&&(g=c,c={},c[g]=f);for(g in c)if(Object.prototype.hasOwnProperty.call(c,g))switch(f=c[g],g){case"isStatic":e.setStatic(i,f);break;case"isSleeping":l.set(i,f);break;case"mass":e.setMass(i,f);break;case"density":e.setDensity(i,f);break;case"inertia":e.setInertia(i,f);break;case"vertices":e.setVertices(i,f);break;case"position":e.setPosition(i,f);break;case"angle":e.setAngle(i,f);break;case"velocity":e.setVelocity(i,f);break;case"angularVelocity":e.setAngularVelocity(i,f);break;case"speed":e.setSpeed(i,f);break;case"angularSpeed":e.setAngularSpeed(i,f);break;case"parts":e.setParts(i,f);break;case"centre":e.setCentre(i,f);break;default:i[g]=f}},e.setStatic=function(i,c){for(var f=0;f<i.parts.length;f++){var g=i.parts[f];c?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=c}},e.setMass=function(i,c){var f=i.inertia/(i.mass/6);i.inertia=f*(c/6),i.inverseInertia=1/i.inertia,i.mass=c,i.inverseMass=1/i.mass,i.density=i.mass/i.area},e.setDensity=function(i,c){e.setMass(i,c*i.area),i.density=c},e.setInertia=function(i,c){i.inertia=c,i.inverseInertia=1/i.inertia},e.setVertices=function(i,c){c[0].body===i?i.vertices=c:i.vertices=o.create(c,i),i.axes=m.fromVertices(i.vertices),i.area=o.area(i.vertices),e.setMass(i,i.density*i.area);var f=o.centre(i.vertices);o.translate(i.vertices,f,-1),e.setInertia(i,e._inertiaScale*o.inertia(i.vertices,i.mass)),o.translate(i.vertices,i.position),a.update(i.bounds,i.vertices,i.velocity)},e.setParts=function(i,c,f){var g;for(c=c.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,g=0;g<c.length;g++){var y=c[g];y!==i&&(y.parent=i,i.parts.push(y))}if(i.parts.length!==1){if(f=typeof f<"u"?f:!0,f){var T=[];for(g=0;g<c.length;g++)T=T.concat(c[g].vertices);o.clockwiseSort(T);var P=o.hull(T),A=o.centre(P);e.setVertices(i,P),o.translate(i.vertices,A)}var v=e._totalProperties(i);i.area=v.area,i.parent=i,i.position.x=v.centre.x,i.position.y=v.centre.y,i.positionPrev.x=v.centre.x,i.positionPrev.y=v.centre.y,e.setMass(i,v.mass),e.setInertia(i,v.inertia),e.setPosition(i,v.centre)}},e.setCentre=function(i,c,f){f?(i.positionPrev.x+=c.x,i.positionPrev.y+=c.y,i.position.x+=c.x,i.position.y+=c.y):(i.positionPrev.x=c.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=c.y-(i.position.y-i.positionPrev.y),i.position.x=c.x,i.position.y=c.y)},e.setPosition=function(i,c,f){var g=u.sub(c,i.position);f?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=g.x,i.velocity.y=g.y,i.speed=u.magnitude(g)):(i.positionPrev.x+=g.x,i.positionPrev.y+=g.y);for(var y=0;y<i.parts.length;y++){var T=i.parts[y];T.position.x+=g.x,T.position.y+=g.y,o.translate(T.vertices,g),a.update(T.bounds,T.vertices,i.velocity)}},e.setAngle=function(i,c,f){var g=c-i.angle;f?(i.anglePrev=i.angle,i.angularVelocity=g,i.angularSpeed=Math.abs(g)):i.anglePrev+=g;for(var y=0;y<i.parts.length;y++){var T=i.parts[y];T.angle+=g,o.rotate(T.vertices,g,i.position),m.rotate(T.axes,g),a.update(T.bounds,T.vertices,i.velocity),y>0&&u.rotateAbout(T.position,g,i.position,T.position)}},e.setVelocity=function(i,c){var f=i.deltaTime/e._baseDelta;i.positionPrev.x=i.position.x-c.x*f,i.positionPrev.y=i.position.y-c.y*f,i.velocity.x=(i.position.x-i.positionPrev.x)/f,i.velocity.y=(i.position.y-i.positionPrev.y)/f,i.speed=u.magnitude(i.velocity)},e.getVelocity=function(i){var c=e._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*c,y:(i.position.y-i.positionPrev.y)*c}},e.getSpeed=function(i){return u.magnitude(e.getVelocity(i))},e.setSpeed=function(i,c){e.setVelocity(i,u.mult(u.normalise(e.getVelocity(i)),c))},e.setAngularVelocity=function(i,c){var f=i.deltaTime/e._baseDelta;i.anglePrev=i.angle-c*f,i.angularVelocity=(i.angle-i.anglePrev)/f,i.angularSpeed=Math.abs(i.angularVelocity)},e.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*e._baseDelta/i.deltaTime},e.getAngularSpeed=function(i){return Math.abs(e.getAngularVelocity(i))},e.setAngularSpeed=function(i,c){e.setAngularVelocity(i,d.sign(e.getAngularVelocity(i))*c)},e.translate=function(i,c,f){e.setPosition(i,u.add(i.position,c),f)},e.rotate=function(i,c,f,g){if(!f)e.setAngle(i,i.angle+c,g);else{var y=Math.cos(c),T=Math.sin(c),P=i.position.x-f.x,A=i.position.y-f.y;e.setPosition(i,{x:f.x+(P*y-A*T),y:f.y+(P*T+A*y)},g),e.setAngle(i,i.angle+c,g)}},e.scale=function(i,c,f,g){var y=0,T=0;g=g||i.position;for(var P=0;P<i.parts.length;P++){var A=i.parts[P];o.scale(A.vertices,c,f,g),A.axes=m.fromVertices(A.vertices),A.area=o.area(A.vertices),e.setMass(A,i.density*A.area),o.translate(A.vertices,{x:-A.position.x,y:-A.position.y}),e.setInertia(A,e._inertiaScale*o.inertia(A.vertices,A.mass)),o.translate(A.vertices,{x:A.position.x,y:A.position.y}),P>0&&(y+=A.area,T+=A.inertia),A.position.x=g.x+(A.position.x-g.x)*c,A.position.y=g.y+(A.position.y-g.y)*f,a.update(A.bounds,A.vertices,i.velocity)}i.parts.length>1&&(i.area=y,i.isStatic||(e.setMass(i,i.density*y),e.setInertia(i,T))),i.circleRadius&&(c===f?i.circleRadius*=c:i.circleRadius=null)},e.update=function(i,c){c=(typeof c<"u"?c:1e3/60)*i.timeScale;var f=c*c,g=e._timeCorrection?c/(i.deltaTime||c):1,y=1-i.frictionAir*(c/d._baseDelta),T=(i.position.x-i.positionPrev.x)*g,P=(i.position.y-i.positionPrev.y)*g;i.velocity.x=T*y+i.force.x/i.mass*f,i.velocity.y=P*y+i.force.y/i.mass*f,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=c,i.angularVelocity=(i.angle-i.anglePrev)*y*g+i.torque/i.inertia*f,i.anglePrev=i.angle,i.angle+=i.angularVelocity;for(var A=0;A<i.parts.length;A++){var v=i.parts[A];o.translate(v.vertices,i.velocity),A>0&&(v.position.x+=i.velocity.x,v.position.y+=i.velocity.y),i.angularVelocity!==0&&(o.rotate(v.vertices,i.angularVelocity,i.position),m.rotate(v.axes,i.angularVelocity),A>0&&u.rotateAbout(v.position,i.angularVelocity,i.position,v.position)),a.update(v.bounds,v.vertices,i.velocity)}},e.updateVelocities=function(i){var c=e._baseDelta/i.deltaTime,f=i.velocity;f.x=(i.position.x-i.positionPrev.x)*c,f.y=(i.position.y-i.positionPrev.y)*c,i.speed=Math.sqrt(f.x*f.x+f.y*f.y),i.angularVelocity=(i.angle-i.anglePrev)*c,i.angularSpeed=Math.abs(i.angularVelocity)},e.applyForce=function(i,c,f){var g={x:c.x-i.position.x,y:c.y-i.position.y};i.force.x+=f.x,i.force.y+=f.y,i.torque+=g.x*f.y-g.y*f.x},e._totalProperties=function(i){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},f=i.parts.length===1?0:1;f<i.parts.length;f++){var g=i.parts[f],y=g.mass!==1/0?g.mass:1;c.mass+=y,c.area+=g.area,c.inertia+=g.inertia,c.centre=u.add(c.centre,u.mult(g.position,y))}return c.centre=u.div(c.centre,c.mass),c}})()},function(r,p,s){var e={};r.exports=e;var o=s(0);(function(){e.on=function(u,l,d){for(var a=l.split(" "),m,h=0;h<a.length;h++)m=a[h],u.events=u.events||{},u.events[m]=u.events[m]||[],u.events[m].push(d);return d},e.off=function(u,l,d){if(!l){u.events={};return}typeof l=="function"&&(d=l,l=o.keys(u.events).join(" "));for(var a=l.split(" "),m=0;m<a.length;m++){var h=u.events[a[m]],i=[];if(d&&h)for(var c=0;c<h.length;c++)h[c]!==d&&i.push(h[c]);u.events[a[m]]=i}},e.trigger=function(u,l,d){var a,m,h,i,c=u.events;if(c&&o.keys(c).length>0){d||(d={}),a=l.split(" ");for(var f=0;f<a.length;f++)if(m=a[f],h=c[m],h){i=o.clone(d,!1),i.name=m,i.source=u;for(var g=0;g<h.length;g++)h[g].apply(u,[i])}}}})()},function(r,p,s){var e={};r.exports=e;var o=s(5),u=s(0),l=s(1),d=s(4);(function(){e.create=function(a){return u.extend({id:u.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},e.setModified=function(a,m,h,i){if(a.isModified=m,m&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),h&&a.parent&&e.setModified(a.parent,m,h,i),i)for(var c=0;c<a.composites.length;c++){var f=a.composites[c];e.setModified(f,m,h,i)}},e.add=function(a,m){var h=[].concat(m);o.trigger(a,"beforeAdd",{object:m});for(var i=0;i<h.length;i++){var c=h[i];switch(c.type){case"body":if(c.parent!==c){u.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(a,c);break;case"constraint":e.addConstraint(a,c);break;case"composite":e.addComposite(a,c);break;case"mouseConstraint":e.addConstraint(a,c.constraint);break}}return o.trigger(a,"afterAdd",{object:m}),a},e.remove=function(a,m,h){var i=[].concat(m);o.trigger(a,"beforeRemove",{object:m});for(var c=0;c<i.length;c++){var f=i[c];switch(f.type){case"body":e.removeBody(a,f,h);break;case"constraint":e.removeConstraint(a,f,h);break;case"composite":e.removeComposite(a,f,h);break;case"mouseConstraint":e.removeConstraint(a,f.constraint);break}}return o.trigger(a,"afterRemove",{object:m}),a},e.addComposite=function(a,m){return a.composites.push(m),m.parent=a,e.setModified(a,!0,!0,!1),a},e.removeComposite=function(a,m,h){var i=u.indexOf(a.composites,m);if(i!==-1){var c=e.allBodies(m);e.removeCompositeAt(a,i);for(var f=0;f<c.length;f++)c[f].sleepCounter=0}if(h)for(var f=0;f<a.composites.length;f++)e.removeComposite(a.composites[f],m,!0);return a},e.removeCompositeAt=function(a,m){return a.composites.splice(m,1),e.setModified(a,!0,!0,!1),a},e.addBody=function(a,m){return a.bodies.push(m),e.setModified(a,!0,!0,!1),a},e.removeBody=function(a,m,h){var i=u.indexOf(a.bodies,m);if(i!==-1&&(e.removeBodyAt(a,i),m.sleepCounter=0),h)for(var c=0;c<a.composites.length;c++)e.removeBody(a.composites[c],m,!0);return a},e.removeBodyAt=function(a,m){return a.bodies.splice(m,1),e.setModified(a,!0,!0,!1),a},e.addConstraint=function(a,m){return a.constraints.push(m),e.setModified(a,!0,!0,!1),a},e.removeConstraint=function(a,m,h){var i=u.indexOf(a.constraints,m);if(i!==-1&&e.removeConstraintAt(a,i),h)for(var c=0;c<a.composites.length;c++)e.removeConstraint(a.composites[c],m,!0);return a},e.removeConstraintAt=function(a,m){return a.constraints.splice(m,1),e.setModified(a,!0,!0,!1),a},e.clear=function(a,m,h){if(h)for(var i=0;i<a.composites.length;i++)e.clear(a.composites[i],m,!0);return m?a.bodies=a.bodies.filter(function(c){return c.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,e.setModified(a,!0,!0,!1),a},e.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var m=[].concat(a.bodies),h=0;h<a.composites.length;h++)m=m.concat(e.allBodies(a.composites[h]));return a.cache&&(a.cache.allBodies=m),m},e.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var m=[].concat(a.constraints),h=0;h<a.composites.length;h++)m=m.concat(e.allConstraints(a.composites[h]));return a.cache&&(a.cache.allConstraints=m),m},e.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var m=[].concat(a.composites),h=0;h<a.composites.length;h++)m=m.concat(e.allComposites(a.composites[h]));return a.cache&&(a.cache.allComposites=m),m},e.get=function(a,m,h){var i,c;switch(h){case"body":i=e.allBodies(a);break;case"constraint":i=e.allConstraints(a);break;case"composite":i=e.allComposites(a).concat(a);break}return i?(c=i.filter(function(f){return f.id.toString()===m.toString()}),c.length===0?null:c[0]):null},e.move=function(a,m,h){return e.remove(a,m),e.add(h,m),a},e.rebase=function(a){for(var m=e.allBodies(a).concat(e.allConstraints(a)).concat(e.allComposites(a)),h=0;h<m.length;h++)m[h].id=u.nextId();return a},e.translate=function(a,m,h){for(var i=h?e.allBodies(a):a.bodies,c=0;c<i.length;c++)d.translate(i[c],m);return a},e.rotate=function(a,m,h,i){for(var c=Math.cos(m),f=Math.sin(m),g=i?e.allBodies(a):a.bodies,y=0;y<g.length;y++){var T=g[y],P=T.position.x-h.x,A=T.position.y-h.y;d.setPosition(T,{x:h.x+(P*c-A*f),y:h.y+(P*f+A*c)}),d.rotate(T,m)}return a},e.scale=function(a,m,h,i,c){for(var f=c?e.allBodies(a):a.bodies,g=0;g<f.length;g++){var y=f[g],T=y.position.x-i.x,P=y.position.y-i.y;d.setPosition(y,{x:i.x+T*m,y:i.y+P*h}),d.scale(y,m,h)}return a},e.bounds=function(a){for(var m=e.allBodies(a),h=[],i=0;i<m.length;i+=1){var c=m[i];h.push(c.bounds.min,c.bounds.max)}return l.create(h)}})()},function(r,p,s){var e={};r.exports=e;var o=s(4),u=s(5),l=s(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(d,a){for(var m=a/l._baseDelta,h=e._motionSleepThreshold,i=0;i<d.length;i++){var c=d[i],f=o.getSpeed(c),g=o.getAngularSpeed(c),y=f*f+g*g;if(c.force.x!==0||c.force.y!==0){e.set(c,!1);continue}var T=Math.min(c.motion,y),P=Math.max(c.motion,y);c.motion=e._minBias*T+(1-e._minBias)*P,c.sleepThreshold>0&&c.motion<h?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/m&&e.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},e.afterCollisions=function(d){for(var a=e._motionSleepThreshold,m=0;m<d.length;m++){var h=d[m];if(h.isActive){var i=h.collision,c=i.bodyA.parent,f=i.bodyB.parent;if(!(c.isSleeping&&f.isSleeping||c.isStatic||f.isStatic)&&(c.isSleeping||f.isSleeping)){var g=c.isSleeping&&!c.isStatic?c:f,y=g===c?f:c;!g.isStatic&&y.motion>a&&e.set(g,!1)}}}},e.set=function(d,a){var m=d.isSleeping;a?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,m||u.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,m&&u.trigger(d,"sleepEnd"))}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(9);(function(){var l=[],d={overlap:0,axis:null},a={overlap:0,axis:null};e.create=function(m,h){return{pair:null,collided:!1,bodyA:m,bodyB:h,parentA:m.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(m,h,i){if(e._overlapAxes(d,m.vertices,h.vertices,m.axes),d.overlap<=0||(e._overlapAxes(a,h.vertices,m.vertices,h.axes),a.overlap<=0))return null;var c=i&&i.table[u.id(m,h)],f;c?f=c.collision:(f=e.create(m,h),f.collided=!0,f.bodyA=m.id<h.id?m:h,f.bodyB=m.id<h.id?h:m,f.parentA=f.bodyA.parent,f.parentB=f.bodyB.parent),m=f.bodyA,h=f.bodyB;var g;d.overlap<a.overlap?g=d:g=a;var y=f.normal,T=f.tangent,P=f.penetration,A=f.supports,v=g.overlap,S=g.axis,w=S.x,x=S.y,C=h.position.x-m.position.x,M=h.position.y-m.position.y;w*C+x*M>=0&&(w=-w,x=-x),y.x=w,y.y=x,T.x=-x,T.y=w,P.x=w*v,P.y=x*v,f.depth=v;var V=e._findSupports(m,h,y,1),I=0;if(o.contains(m.vertices,V[0])&&(A[I++]=V[0]),o.contains(m.vertices,V[1])&&(A[I++]=V[1]),I<2){var D=e._findSupports(h,m,y,-1);o.contains(h.vertices,D[0])&&(A[I++]=D[0]),I<2&&o.contains(h.vertices,D[1])&&(A[I++]=D[1])}return I===0&&(A[I++]=V[0]),f.supportCount=I,f},e._overlapAxes=function(m,h,i,c){var f=h.length,g=i.length,y=h[0].x,T=h[0].y,P=i[0].x,A=i[0].y,v=c.length,S=Number.MAX_VALUE,w=0,x,C,M,V,I,D;for(I=0;I<v;I++){var B=c[I],F=B.x,E=B.y,b=y*F+T*E,R=P*F+A*E,k=b,N=R;for(D=1;D<f;D+=1)V=h[D].x*F+h[D].y*E,V>k?k=V:V<b&&(b=V);for(D=1;D<g;D+=1)V=i[D].x*F+i[D].y*E,V>N?N=V:V<R&&(R=V);if(C=k-R,M=N-b,x=C<M?C:M,x<S&&(S=x,w=I,x<=0))break}m.axis=c[w],m.overlap=S},e._findSupports=function(m,h,i,c){var f=h.vertices,g=f.length,y=m.position.x,T=m.position.y,P=i.x*c,A=i.y*c,v=f[0],S=v,w=P*(y-S.x)+A*(T-S.y),x,C,M;for(M=1;M<g;M+=1)S=f[M],C=P*(y-S.x)+A*(T-S.y),C<w&&(w=C,v=S);return x=f[(g+v.index-1)%g],w=P*(y-x.x)+A*(T-x.y),S=f[(v.index+1)%g],P*(y-S.x)+A*(T-S.y)<w?(l[0]=v,l[1]=S,l):(l[0]=v,l[1]=x,l)}})()},function(r,p,s){var e={};r.exports=e;var o=s(16);(function(){e.create=function(u,l){var d=u.bodyA,a=u.bodyB,m={id:e.id(d,a),bodyA:d,bodyB:a,collision:u,contacts:[o.create(),o.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||a.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(m,u,l),m},e.update=function(u,l,d){var a=l.supports,m=l.supportCount,h=u.contacts,i=l.parentA,c=l.parentB;u.isActive=!0,u.timeUpdated=d,u.collision=l,u.separation=l.depth,u.inverseMass=i.inverseMass+c.inverseMass,u.friction=i.friction<c.friction?i.friction:c.friction,u.frictionStatic=i.frictionStatic>c.frictionStatic?i.frictionStatic:c.frictionStatic,u.restitution=i.restitution>c.restitution?i.restitution:c.restitution,u.slop=i.slop>c.slop?i.slop:c.slop,u.contactCount=m,l.pair=u;var f=a[0],g=h[0],y=a[1],T=h[1];(T.vertex===f||g.vertex===y)&&(h[1]=g,h[0]=g=T,T=h[1]),g.vertex=f,T.vertex=y},e.setActive=function(u,l,d){l?(u.isActive=!0,u.timeUpdated=d):(u.isActive=!1,u.contactCount=0)},e.id=function(u,l){return u.id<l.id?u.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+u.id.toString(36)}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(2),l=s(7),d=s(1),a=s(11),m=s(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var c=i.bodyA?u.add(i.bodyA.position,i.pointA):i.pointA,f=i.bodyB?u.add(i.bodyB.position,i.pointB):i.pointB,g=u.magnitude(u.sub(c,f));i.length=typeof i.length<"u"?i.length:g,i.id=i.id||m.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var y={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return i.length===0&&i.stiffness>.1?(y.type="pin",y.anchors=!1):i.stiffness<.9&&(y.type="spring"),i.render=m.extend(y,i.render),i},e.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var c=h[i],f=c.constraintImpulse;c.isStatic||f.x===0&&f.y===0&&f.angle===0||(c.position.x+=f.x,c.position.y+=f.y,c.angle+=f.angle)}},e.solveAll=function(h,i){for(var c=m.clamp(i/m._baseDelta,0,1),f=0;f<h.length;f+=1){var g=h[f],y=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(y||T)&&e.solve(h[f],c)}for(f=0;f<h.length;f+=1)g=h[f],y=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!y&&!T&&e.solve(h[f],c)},e.solve=function(h,i){var c=h.bodyA,f=h.bodyB,g=h.pointA,y=h.pointB;if(!(!c&&!f)){c&&!c.isStatic&&(u.rotate(g,c.angle-h.angleA,g),h.angleA=c.angle),f&&!f.isStatic&&(u.rotate(y,f.angle-h.angleB,y),h.angleB=f.angle);var T=g,P=y;if(c&&(T=u.add(c.position,g)),f&&(P=u.add(f.position,y)),!(!T||!P)){var A=u.sub(T,P),v=u.magnitude(A);v<e._minLength&&(v=e._minLength);var S=(v-h.length)/v,w=h.stiffness>=1||h.length===0,x=w?h.stiffness*i:h.stiffness*i*i,C=h.damping*i,M=u.mult(A,S*x),V=(c?c.inverseMass:0)+(f?f.inverseMass:0),I=(c?c.inverseInertia:0)+(f?f.inverseInertia:0),D=V+I,B,F,E,b,R;if(C>0){var k=u.create();E=u.div(A,v),R=u.sub(f&&u.sub(f.position,f.positionPrev)||k,c&&u.sub(c.position,c.positionPrev)||k),b=u.dot(E,R)}c&&!c.isStatic&&(F=c.inverseMass/V,c.constraintImpulse.x-=M.x*F,c.constraintImpulse.y-=M.y*F,c.position.x-=M.x*F,c.position.y-=M.y*F,C>0&&(c.positionPrev.x-=C*E.x*b*F,c.positionPrev.y-=C*E.y*b*F),B=u.cross(g,M)/D*e._torqueDampen*c.inverseInertia*(1-h.angularStiffness),c.constraintImpulse.angle-=B,c.angle-=B),f&&!f.isStatic&&(F=f.inverseMass/V,f.constraintImpulse.x+=M.x*F,f.constraintImpulse.y+=M.y*F,f.position.x+=M.x*F,f.position.y+=M.y*F,C>0&&(f.positionPrev.x+=C*E.x*b*F,f.positionPrev.y+=C*E.y*b*F),B=u.cross(y,M)/D*e._torqueDampen*f.inverseInertia*(1-h.angularStiffness),f.constraintImpulse.angle+=B,f.angle+=B)}}},e.postSolveAll=function(h){for(var i=0;i<h.length;i++){var c=h[i],f=c.constraintImpulse;if(!(c.isStatic||f.x===0&&f.y===0&&f.angle===0)){l.set(c,!1);for(var g=0;g<c.parts.length;g++){var y=c.parts[g];o.translate(y.vertices,f),g>0&&(y.position.x+=f.x,y.position.y+=f.y),f.angle!==0&&(o.rotate(y.vertices,f.angle,c.position),a.rotate(y.axes,f.angle),g>0&&u.rotateAbout(y.position,f.angle,c.position,y.position)),d.update(y.bounds,y.vertices,c.velocity)}f.angle*=e._warming,f.x*=e._warming,f.y*=e._warming}}},e.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},e.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},e.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),c=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),f=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),g=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),y=i-f,T=c-g;return Math.sqrt(y*y+T*T)}})()},function(r,p,s){var e={};r.exports=e;var o=s(2),u=s(0);(function(){e.fromVertices=function(l){for(var d={},a=0;a<l.length;a++){var m=(a+1)%l.length,h=o.normalise({x:l[m].y-l[a].y,y:l[a].x-l[m].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),d[i]=h}return u.values(d)},e.rotate=function(l,d){if(d!==0)for(var a=Math.cos(d),m=Math.sin(d),h=0;h<l.length;h++){var i=l[h],c;c=i.x*a-i.y*m,i.y=i.x*m+i.y*a,i.x=c}}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(0),l=s(4),d=s(1),a=s(2);(function(){e.rectangle=function(m,h,i,c,f){f=f||{};var g={label:"Rectangle Body",position:{x:m,y:h},vertices:o.fromPath("L 0 0 L "+i+" 0 L "+i+" "+c+" L 0 "+c)};if(f.chamfer){var y=f.chamfer;g.vertices=o.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete f.chamfer}return l.create(u.extend({},g,f))},e.trapezoid=function(m,h,i,c,f,g){g=g||{},f>=1&&u.warn("Bodies.trapezoid: slope parameter must be < 1."),f*=.5;var y=(1-f*2)*i,T=i*f,P=T+y,A=P+T,v;f<.5?v="L 0 0 L "+T+" "+-c+" L "+P+" "+-c+" L "+A+" 0":v="L 0 0 L "+P+" "+-c+" L "+A+" 0";var S={label:"Trapezoid Body",position:{x:m,y:h},vertices:o.fromPath(v)};if(g.chamfer){var w=g.chamfer;S.vertices=o.chamfer(S.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete g.chamfer}return l.create(u.extend({},S,g))},e.circle=function(m,h,i,c,f){c=c||{};var g={label:"Circle Body",circleRadius:i};f=f||25;var y=Math.ceil(Math.max(10,Math.min(f,i)));return y%2===1&&(y+=1),e.polygon(m,h,y,i,u.extend({},g,c))},e.polygon=function(m,h,i,c,f){if(f=f||{},i<3)return e.circle(m,h,c,f);for(var g=2*Math.PI/i,y="",T=g*.5,P=0;P<i;P+=1){var A=T+P*g,v=Math.cos(A)*c,S=Math.sin(A)*c;y+="L "+v.toFixed(3)+" "+S.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:m,y:h},vertices:o.fromPath(y)};if(f.chamfer){var x=f.chamfer;w.vertices=o.chamfer(w.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete f.chamfer}return l.create(u.extend({},w,f))},e.fromVertices=function(m,h,i,c,f,g,y,T){var P=u.getDecomp(),A,v,S,w,x,C,M,V,I,D,B;for(A=!!(P&&P.quickDecomp),c=c||{},S=[],f=typeof f<"u"?f:!1,g=typeof g<"u"?g:.01,y=typeof y<"u"?y:10,T=typeof T<"u"?T:.01,u.isArray(i[0])||(i=[i]),D=0;D<i.length;D+=1)if(C=i[D],w=o.isConvex(C),x=!w,x&&!A&&u.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!A)w?C=o.clockwiseSort(C):C=o.hull(C),S.push({position:{x:m,y:h},vertices:C});else{var F=C.map(function(L){return[L.x,L.y]});P.makeCCW(F),g!==!1&&P.removeCollinearPoints(F,g),T!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(F,T);var E=P.quickDecomp(F);for(M=0;M<E.length;M++){var b=E[M],R=b.map(function(L){return{x:L[0],y:L[1]}});y>0&&o.area(R)<y||S.push({position:o.centre(R),vertices:R})}}for(M=0;M<S.length;M++)S[M]=l.create(u.extend(S[M],c));if(f){var k=5;for(M=0;M<S.length;M++){var N=S[M];for(V=M+1;V<S.length;V++){var K=S[V];if(d.overlaps(N.bounds,K.bounds)){var U=N.vertices,$=K.vertices;for(I=0;I<N.vertices.length;I++)for(B=0;B<K.vertices.length;B++){var j=a.magnitudeSquared(a.sub(U[(I+1)%U.length],$[B])),z=a.magnitudeSquared(a.sub(U[I],$[(B+1)%$.length]));j<k&&z<k&&(U[I].isInternal=!0,$[B].isInternal=!0)}}}}}return S.length>1?(v=l.create(u.extend({parts:S.slice(0)},c)),l.setPosition(v,{x:m,y:h}),v):S[0]}})()},function(r,p,s){var e={};r.exports=e;var o=s(0),u=s(8);(function(){e.create=function(l){var d={bodies:[],collisions:[],pairs:null};return o.extend(d,l)},e.setBodies=function(l,d){l.bodies=d.slice(0)},e.clear=function(l){l.bodies=[],l.collisions=[]},e.collisions=function(l){var d=l.pairs,a=l.bodies,m=a.length,h=e.canCollide,i=u.collides,c=l.collisions,f=0,g,y;for(a.sort(e._compareBoundsX),g=0;g<m;g++){var T=a[g],P=T.bounds,A=T.bounds.max.x,v=T.bounds.max.y,S=T.bounds.min.y,w=T.isStatic||T.isSleeping,x=T.parts.length,C=x===1;for(y=g+1;y<m;y++){var M=a[y],V=M.bounds;if(V.min.x>A)break;if(!(v<V.min.y||S>V.max.y)&&!(w&&(M.isStatic||M.isSleeping))&&h(T.collisionFilter,M.collisionFilter)){var I=M.parts.length;if(C&&I===1){var D=i(T,M,d);D&&(c[f++]=D)}else for(var B=x>1?1:0,F=I>1?1:0,E=B;E<x;E++)for(var b=T.parts[E],P=b.bounds,R=F;R<I;R++){var k=M.parts[R],V=k.bounds;if(!(P.min.x>V.max.x||P.max.x<V.min.x||P.max.y<V.min.y||P.min.y>V.max.y)){var D=i(b,k,d);D&&(c[f++]=D)}}}}}return c.length!==f&&(c.length=f),c},e.canCollide=function(l,d){return l.group===d.group&&l.group!==0?l.group>0:(l.mask&d.category)!==0&&(d.mask&l.category)!==0},e._compareBoundsX=function(l,d){return l.bounds.min.x-d.bounds.min.x}})()},function(r,p,s){var e={};r.exports=e;var o=s(0);(function(){e.create=function(u){var l={};return u||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=u||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(d){var a=e._getRelativeMousePosition(d,l.element,l.pixelRatio),m=d.changedTouches;m&&(l.button=0,d.preventDefault()),l.absolute.x=a.x,l.absolute.y=a.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=d},l.mousedown=function(d){var a=e._getRelativeMousePosition(d,l.element,l.pixelRatio),m=d.changedTouches;m?(l.button=0,d.preventDefault()):l.button=d.button,l.absolute.x=a.x,l.absolute.y=a.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=d},l.mouseup=function(d){var a=e._getRelativeMousePosition(d,l.element,l.pixelRatio),m=d.changedTouches;m&&d.preventDefault(),l.button=-1,l.absolute.x=a.x,l.absolute.y=a.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=d},l.mousewheel=function(d){l.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),l.sourceEvents.mousewheel=d},e.setElement(l,l.element),l},e.setElement=function(u,l){u.element=l,l.addEventListener("mousemove",u.mousemove,{passive:!0}),l.addEventListener("mousedown",u.mousedown,{passive:!0}),l.addEventListener("mouseup",u.mouseup,{passive:!0}),l.addEventListener("wheel",u.mousewheel,{passive:!1}),l.addEventListener("touchmove",u.mousemove,{passive:!1}),l.addEventListener("touchstart",u.mousedown,{passive:!1}),l.addEventListener("touchend",u.mouseup,{passive:!1})},e.clearSourceEvents=function(u){u.sourceEvents.mousemove=null,u.sourceEvents.mousedown=null,u.sourceEvents.mouseup=null,u.sourceEvents.mousewheel=null,u.wheelDelta=0},e.setOffset=function(u,l){u.offset.x=l.x,u.offset.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},e.setScale=function(u,l){u.scale.x=l.x,u.scale.y=l.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y},e._getRelativeMousePosition=function(u,l,d){var a=l.getBoundingClientRect(),m=document.documentElement||document.body.parentNode||document.body,h=window.pageXOffset!==void 0?window.pageXOffset:m.scrollLeft,i=window.pageYOffset!==void 0?window.pageYOffset:m.scrollTop,c=u.changedTouches,f,g;return c?(f=c[0].pageX-a.left-h,g=c[0].pageY-a.top-i):(f=u.pageX-a.left-h,g=u.pageY-a.top-i),{x:f/(l.clientWidth/(l.width||l.clientWidth)*d),y:g/(l.clientHeight/(l.height||l.clientHeight)*d)}}})()},function(r,p,s){var e={};r.exports=e;var o=s(0);(function(){e._registry={},e.register=function(u){if(e.isPlugin(u)||o.warn("Plugin.register:",e.toString(u),"does not implement all required fields."),u.name in e._registry){var l=e._registry[u.name],d=e.versionParse(u.version).number,a=e.versionParse(l.version).number;d>a?(o.warn("Plugin.register:",e.toString(l),"was upgraded to",e.toString(u)),e._registry[u.name]=u):d<a?o.warn("Plugin.register:",e.toString(l),"can not be downgraded to",e.toString(u)):u!==l&&o.warn("Plugin.register:",e.toString(u),"is already registered to different plugin object")}else e._registry[u.name]=u;return u},e.resolve=function(u){return e._registry[e.dependencyParse(u).name]},e.toString=function(u){return typeof u=="string"?u:(u.name||"anonymous")+"@"+(u.version||u.range||"0.0.0")},e.isPlugin=function(u){return u&&u.name&&u.version&&u.install},e.isUsed=function(u,l){return u.used.indexOf(l)>-1},e.isFor=function(u,l){var d=u.for&&e.dependencyParse(u.for);return!u.for||l.name===d.name&&e.versionSatisfies(l.version,d.range)},e.use=function(u,l){if(u.uses=(u.uses||[]).concat(l||[]),u.uses.length===0){o.warn("Plugin.use:",e.toString(u),"does not specify any dependencies to install.");return}for(var d=e.dependencies(u),a=o.topologicalSort(d),m=[],h=0;h<a.length;h+=1)if(a[h]!==u.name){var i=e.resolve(a[h]);if(!i){m.push(" "+a[h]);continue}e.isUsed(u,i.name)||(e.isFor(i,u)||(o.warn("Plugin.use:",e.toString(i),"is for",i.for,"but installed on",e.toString(u)+"."),i._warned=!0),i.install?i.install(u):(o.warn("Plugin.use:",e.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(m.push(" "+e.toString(i)),delete i._warned):m.push(" "+e.toString(i)),u.used.push(i.name))}m.length>0&&o.info(m.join("  "))},e.dependencies=function(u,l){var d=e.dependencyParse(u),a=d.name;if(l=l||{},!(a in l)){u=e.resolve(u)||u,l[a]=o.map(u.uses||[],function(h){e.isPlugin(h)&&e.register(h);var i=e.dependencyParse(h),c=e.resolve(h);return c&&!e.versionSatisfies(c.version,i.range)?(o.warn("Plugin.dependencies:",e.toString(c),"does not satisfy",e.toString(i),"used by",e.toString(d)+"."),c._warned=!0,u._warned=!0):c||(o.warn("Plugin.dependencies:",e.toString(h),"used by",e.toString(d),"could not be resolved."),u._warned=!0),i.name});for(var m=0;m<l[a].length;m+=1)e.dependencies(l[a][m],l);return l}},e.dependencyParse=function(u){if(o.isString(u)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(u)||o.warn("Plugin.dependencyParse:",u,"is not a valid dependency string."),{name:u.split("@")[0],range:u.split("@")[1]||"*"}}return{name:u.name,range:u.range||u.version}},e.versionParse=function(u){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(u)||o.warn("Plugin.versionParse:",u,"is not a valid version or range.");var d=l.exec(u),a=Number(d[4]),m=Number(d[5]),h=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:u,operator:d[1]||d[2]||"",major:a,minor:m,patch:h,parts:[a,m,h],prerelease:d[7],number:a*1e8+m*1e4+h}},e.versionSatisfies=function(u,l){l=l||"*";var d=e.versionParse(l),a=e.versionParse(u);if(d.isRange){if(d.operator==="*"||u==="*")return!0;if(d.operator===">")return a.number>d.number;if(d.operator===">=")return a.number>=d.number;if(d.operator==="~")return a.major===d.major&&a.minor===d.minor&&a.patch>=d.patch;if(d.operator==="^")return d.major>0?a.major===d.major&&a.number>=d.number:d.minor>0?a.minor===d.minor&&a.patch>=d.patch:a.patch===d.patch}return u===l||u==="*"}})()},function(r,p){var s={};r.exports=s,function(){s.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(r,p,s){var e={};r.exports=e;var o=s(7),u=s(18),l=s(13),d=s(19),a=s(5),m=s(6),h=s(10),i=s(0),c=s(4);(function(){e._deltaMax=1e3/60,e.create=function(f){f=f||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=i.extend(g,f);return y.world=f.world||m.create({label:"World"}),y.pairs=f.pairs||d.create(),y.detector=f.detector||l.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},e.update=function(f,g){var y=i.now(),T=f.world,P=f.detector,A=f.pairs,v=f.timing,S=v.timestamp,w;g>e._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),g=typeof g<"u"?g:i._baseDelta,g*=v.timeScale,v.timestamp+=g,v.lastDelta=g;var x={timestamp:v.timestamp,delta:g};a.trigger(f,"beforeUpdate",x);var C=m.allBodies(T),M=m.allConstraints(T);for(T.isModified&&(l.setBodies(P,C),m.setModified(T,!1,!1,!0)),f.enableSleeping&&o.update(C,g),e._bodiesApplyGravity(C,f.gravity),g>0&&e._bodiesUpdate(C,g),a.trigger(f,"beforeSolve",x),h.preSolveAll(C),w=0;w<f.constraintIterations;w++)h.solveAll(M,g);h.postSolveAll(C);var V=l.collisions(P);d.update(A,V,S),f.enableSleeping&&o.afterCollisions(A.list),A.collisionStart.length>0&&a.trigger(f,"collisionStart",{pairs:A.collisionStart,timestamp:v.timestamp,delta:g});var I=i.clamp(20/f.positionIterations,0,1);for(u.preSolvePosition(A.list),w=0;w<f.positionIterations;w++)u.solvePosition(A.list,g,I);for(u.postSolvePosition(C),h.preSolveAll(C),w=0;w<f.constraintIterations;w++)h.solveAll(M,g);for(h.postSolveAll(C),u.preSolveVelocity(A.list),w=0;w<f.velocityIterations;w++)u.solveVelocity(A.list,g);return e._bodiesUpdateVelocities(C),A.collisionActive.length>0&&a.trigger(f,"collisionActive",{pairs:A.collisionActive,timestamp:v.timestamp,delta:g}),A.collisionEnd.length>0&&a.trigger(f,"collisionEnd",{pairs:A.collisionEnd,timestamp:v.timestamp,delta:g}),e._bodiesClearForces(C),a.trigger(f,"afterUpdate",x),f.timing.lastElapsed=i.now()-y,f},e.merge=function(f,g){if(i.extend(f,g),g.world){f.world=g.world,e.clear(f);for(var y=m.allBodies(f.world),T=0;T<y.length;T++){var P=y[T];o.set(P,!1),P.id=i.nextId()}}},e.clear=function(f){d.clear(f.pairs),l.clear(f.detector)},e._bodiesClearForces=function(f){for(var g=f.length,y=0;y<g;y++){var T=f[y];T.force.x=0,T.force.y=0,T.torque=0}},e._bodiesApplyGravity=function(f,g){var y=typeof g.scale<"u"?g.scale:.001,T=f.length;if(!(g.x===0&&g.y===0||y===0))for(var P=0;P<T;P++){var A=f[P];A.isStatic||A.isSleeping||(A.force.y+=A.mass*g.y*y,A.force.x+=A.mass*g.x*y)}},e._bodiesUpdate=function(f,g){for(var y=f.length,T=0;T<y;T++){var P=f[T];P.isStatic||P.isSleeping||c.update(P,g)}},e._bodiesUpdateVelocities=function(f){for(var g=f.length,y=0;y<g;y++)c.updateVelocities(f[y])}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(0),l=s(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(d){var a,m,h,i=d.length;for(a=0;a<i;a++)m=d[a],m.isActive&&(h=m.contactCount,m.collision.parentA.totalContacts+=h,m.collision.parentB.totalContacts+=h)},e.solvePosition=function(d,a,m){var h,i,c,f,g,y,T,P,A=e._positionDampen*(m||1),v=u.clamp(a/u._baseDelta,0,1),S=d.length;for(h=0;h<S;h++)i=d[h],!(!i.isActive||i.isSensor)&&(c=i.collision,f=c.parentA,g=c.parentB,y=c.normal,i.separation=c.depth+y.x*(g.positionImpulse.x-f.positionImpulse.x)+y.y*(g.positionImpulse.y-f.positionImpulse.y));for(h=0;h<S;h++)i=d[h],!(!i.isActive||i.isSensor)&&(c=i.collision,f=c.parentA,g=c.parentB,y=c.normal,P=i.separation-i.slop*v,(f.isStatic||g.isStatic)&&(P*=2),f.isStatic||f.isSleeping||(T=A/f.totalContacts,f.positionImpulse.x+=y.x*P*T,f.positionImpulse.y+=y.y*P*T),g.isStatic||g.isSleeping||(T=A/g.totalContacts,g.positionImpulse.x-=y.x*P*T,g.positionImpulse.y-=y.y*P*T))},e.postSolvePosition=function(d){for(var a=e._positionWarming,m=d.length,h=o.translate,i=l.update,c=0;c<m;c++){var f=d[c],g=f.positionImpulse,y=g.x,T=g.y,P=f.velocity;if(f.totalContacts=0,y!==0||T!==0){for(var A=0;A<f.parts.length;A++){var v=f.parts[A];h(v.vertices,g),i(v.bounds,v.vertices,P),v.position.x+=y,v.position.y+=T}f.positionPrev.x+=y,f.positionPrev.y+=T,y*P.x+T*P.y<0?(g.x=0,g.y=0):(g.x*=a,g.y*=a)}}},e.preSolveVelocity=function(d){var a=d.length,m,h;for(m=0;m<a;m++){var i=d[m];if(!(!i.isActive||i.isSensor)){var c=i.contacts,f=i.contactCount,g=i.collision,y=g.parentA,T=g.parentB,P=g.normal,A=g.tangent;for(h=0;h<f;h++){var v=c[h],S=v.vertex,w=v.normalImpulse,x=v.tangentImpulse;if(w!==0||x!==0){var C=P.x*w+A.x*x,M=P.y*w+A.y*x;y.isStatic||y.isSleeping||(y.positionPrev.x+=C*y.inverseMass,y.positionPrev.y+=M*y.inverseMass,y.anglePrev+=y.inverseInertia*((S.x-y.position.x)*M-(S.y-y.position.y)*C)),T.isStatic||T.isSleeping||(T.positionPrev.x-=C*T.inverseMass,T.positionPrev.y-=M*T.inverseMass,T.anglePrev-=T.inverseInertia*((S.x-T.position.x)*M-(S.y-T.position.y)*C))}}}}},e.solveVelocity=function(d,a){var m=a/u._baseDelta,h=m*m,i=h*m,c=-e._restingThresh*m,f=e._restingThreshTangent,g=e._frictionNormalMultiplier*m,y=e._frictionMaxStatic,T=d.length,P,A,v,S;for(v=0;v<T;v++){var w=d[v];if(!(!w.isActive||w.isSensor)){var x=w.collision,C=x.parentA,M=x.parentB,V=x.normal.x,I=x.normal.y,D=x.tangent.x,B=x.tangent.y,F=w.inverseMass,E=w.friction*w.frictionStatic*g,b=w.contacts,R=w.contactCount,k=1/R,N=C.position.x-C.positionPrev.x,K=C.position.y-C.positionPrev.y,U=C.angle-C.anglePrev,$=M.position.x-M.positionPrev.x,j=M.position.y-M.positionPrev.y,z=M.angle-M.anglePrev;for(S=0;S<R;S++){var L=b[S],X=L.vertex,W=X.x-C.position.x,J=X.y-C.position.y,q=X.x-M.position.x,_=X.y-M.position.y,Y=N-J*U,mi=K+W*U,gi=$-_*z,vi=j+q*z,Ft=Y-gi,Bt=mi-vi,Ke=V*Ft+I*Bt,ne=D*Ft+B*Bt,bt=w.separation+Ke,Ue=Math.min(bt,1);Ue=bt<0?0:Ue;var Et=Ue*E;ne<-Et||ne>Et?(A=ne>0?ne:-ne,P=w.friction*(ne>0?1:-1)*i,P<-A?P=-A:P>A&&(P=A)):(P=ne,A=y);var Rt=W*I-J*V,Ot=q*I-_*V,Lt=k/(F+C.inverseInertia*Rt*Rt+M.inverseInertia*Ot*Ot),Be=(1+w.restitution)*Ke*Lt;if(P*=Lt,Ke<c)L.normalImpulse=0;else{var xi=L.normalImpulse;L.normalImpulse+=Be,L.normalImpulse>0&&(L.normalImpulse=0),Be=L.normalImpulse-xi}if(ne<-f||ne>f)L.tangentImpulse=0;else{var yi=L.tangentImpulse;L.tangentImpulse+=P,L.tangentImpulse<-A&&(L.tangentImpulse=-A),L.tangentImpulse>A&&(L.tangentImpulse=A),P=L.tangentImpulse-yi}var be=V*Be+D*P,Ee=I*Be+B*P;C.isStatic||C.isSleeping||(C.positionPrev.x+=be*C.inverseMass,C.positionPrev.y+=Ee*C.inverseMass,C.anglePrev+=(W*Ee-J*be)*C.inverseInertia),M.isStatic||M.isSleeping||(M.positionPrev.x-=be*M.inverseMass,M.positionPrev.y-=Ee*M.inverseMass,M.anglePrev-=(q*Ee-_*be)*M.inverseInertia)}}}}})()},function(r,p,s){var e={};r.exports=e;var o=s(9),u=s(0);(function(){e.create=function(l){return u.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},e.update=function(l,d,a){var m=o.update,h=o.create,i=o.setActive,c=l.table,f=l.list,g=f.length,y=g,T=l.collisionStart,P=l.collisionEnd,A=l.collisionActive,v=d.length,S=0,w=0,x=0,C,M,V;for(V=0;V<v;V++)C=d[V],M=C.pair,M?(M.isActive&&(A[x++]=M),m(M,C,a)):(M=h(C,a),c[M.id]=M,T[S++]=M,f[y++]=M);for(y=0,g=f.length,V=0;V<g;V++)M=f[V],M.timeUpdated>=a?f[y++]=M:(i(M,!1,a),M.collision.bodyA.sleepCounter>0&&M.collision.bodyB.sleepCounter>0?f[y++]=M:(P[w++]=M,delete c[M.id]));f.length!==y&&(f.length=y),T.length!==S&&(T.length=S),P.length!==w&&(P.length=w),A.length!==x&&(A.length=x)},e.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(r,p,s){var e=r.exports=s(21);e.Axes=s(11),e.Bodies=s(12),e.Body=s(4),e.Bounds=s(1),e.Collision=s(8),e.Common=s(0),e.Composite=s(6),e.Composites=s(22),e.Constraint=s(10),e.Contact=s(16),e.Detector=s(13),e.Engine=s(17),e.Events=s(5),e.Grid=s(23),e.Mouse=s(14),e.MouseConstraint=s(24),e.Pair=s(9),e.Pairs=s(19),e.Plugin=s(15),e.Query=s(25),e.Render=s(26),e.Resolver=s(18),e.Runner=s(27),e.SAT=s(28),e.Sleeping=s(7),e.Svg=s(29),e.Vector=s(2),e.Vertices=s(3),e.World=s(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")},function(r,p,s){var e={};r.exports=e;var o=s(15),u=s(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){o.use(e,Array.prototype.slice.call(arguments))},e.before=function(l,d){return l=l.replace(/^Matter./,""),u.chainPathBefore(e,l,d)},e.after=function(l,d){return l=l.replace(/^Matter./,""),u.chainPathAfter(e,l,d)}})()},function(r,p,s){var e={};r.exports=e;var o=s(6),u=s(10),l=s(0),d=s(4),a=s(12),m=l.deprecated;(function(){e.stack=function(h,i,c,f,g,y,T){for(var P=o.create({label:"Stack"}),A=h,v=i,S,w=0,x=0;x<f;x++){for(var C=0,M=0;M<c;M++){var V=T(A,v,M,x,S,w);if(V){var I=V.bounds.max.y-V.bounds.min.y,D=V.bounds.max.x-V.bounds.min.x;I>C&&(C=I),d.translate(V,{x:D*.5,y:I*.5}),A=V.bounds.max.x+g,o.addBody(P,V),S=V,w+=1}else A+=g}v+=C+y,A=h}return P},e.chain=function(h,i,c,f,g,y){for(var T=h.bodies,P=1;P<T.length;P++){var A=T[P-1],v=T[P],S=A.bounds.max.y-A.bounds.min.y,w=A.bounds.max.x-A.bounds.min.x,x=v.bounds.max.y-v.bounds.min.y,C=v.bounds.max.x-v.bounds.min.x,M={bodyA:A,pointA:{x:w*i,y:S*c},bodyB:v,pointB:{x:C*f,y:x*g}},V=l.extend(M,y);o.addConstraint(h,u.create(V))}return h.label+=" Chain",h},e.mesh=function(h,i,c,f,g){var y=h.bodies,T,P,A,v,S;for(T=0;T<c;T++){for(P=1;P<i;P++)A=y[P-1+T*i],v=y[P+T*i],o.addConstraint(h,u.create(l.extend({bodyA:A,bodyB:v},g)));if(T>0)for(P=0;P<i;P++)A=y[P+(T-1)*i],v=y[P+T*i],o.addConstraint(h,u.create(l.extend({bodyA:A,bodyB:v},g))),f&&P>0&&(S=y[P-1+(T-1)*i],o.addConstraint(h,u.create(l.extend({bodyA:S,bodyB:v},g)))),f&&P<i-1&&(S=y[P+1+(T-1)*i],o.addConstraint(h,u.create(l.extend({bodyA:S,bodyB:v},g))))}return h.label+=" Mesh",h},e.pyramid=function(h,i,c,f,g,y,T){return e.stack(h,i,c,f,g,y,function(P,A,v,S,w,x){var C=Math.min(f,Math.ceil(c/2)),M=w?w.bounds.max.x-w.bounds.min.x:0;if(!(S>C)){S=C-S;var V=S,I=c-1-S;if(!(v<V||v>I)){x===1&&d.translate(w,{x:(v+(c%2===1?1:-1))*M,y:0});var D=w?v*M:0;return T(h+D+v*g,A,v,S,w,x)}}})},e.newtonsCradle=function(h,i,c,f,g){for(var y=o.create({label:"Newtons Cradle"}),T=0;T<c;T++){var P=1.9,A=a.circle(h+T*(f*P),i+g,f,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),v=u.create({pointA:{x:h+T*(f*P),y:i},bodyB:A});o.addBody(y,A),o.addConstraint(y,v)}return y},m(e,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),e.car=function(h,i,c,f,g){var y=d.nextGroup(!0),T=20,P=-c*.5+T,A=c*.5-T,v=0,S=o.create({label:"Car"}),w=a.rectangle(h,i,c,f,{collisionFilter:{group:y},chamfer:{radius:f*.5},density:2e-4}),x=a.circle(h+P,i+v,g,{collisionFilter:{group:y},friction:.8}),C=a.circle(h+A,i+v,g,{collisionFilter:{group:y},friction:.8}),M=u.create({bodyB:w,pointB:{x:P,y:v},bodyA:x,stiffness:1,length:0}),V=u.create({bodyB:w,pointB:{x:A,y:v},bodyA:C,stiffness:1,length:0});return o.addBody(S,w),o.addBody(S,x),o.addBody(S,C),o.addConstraint(S,M),o.addConstraint(S,V),S},m(e,"car","Composites.car  moved to car example"),e.softBody=function(h,i,c,f,g,y,T,P,A,v){A=l.extend({inertia:1/0},A),v=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},v);var S=e.stack(h,i,c,f,g,y,function(w,x){return a.circle(w,x,P,A)});return e.mesh(S,c,f,T,v),S.label="Soft Body",S},m(e,"softBody","Composites.softBody  moved to softBody and cloth examples")})()},function(r,p,s){var e={};r.exports=e;var o=s(9),u=s(0),l=u.deprecated;(function(){e.create=function(d){var a={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return u.extend(a,d)},e.update=function(d,a,m,h){var i,c,f,g=m.world,y=d.buckets,T,P,A=!1;for(i=0;i<a.length;i++){var v=a[i];if(!(v.isSleeping&&!h)&&!(g.bounds&&(v.bounds.max.x<g.bounds.min.x||v.bounds.min.x>g.bounds.max.x||v.bounds.max.y<g.bounds.min.y||v.bounds.min.y>g.bounds.max.y))){var S=e._getRegion(d,v);if(!v.region||S.id!==v.region.id||h){(!v.region||h)&&(v.region=S);var w=e._regionUnion(S,v.region);for(c=w.startCol;c<=w.endCol;c++)for(f=w.startRow;f<=w.endRow;f++){P=e._getBucketId(c,f),T=y[P];var x=c>=S.startCol&&c<=S.endCol&&f>=S.startRow&&f<=S.endRow,C=c>=v.region.startCol&&c<=v.region.endCol&&f>=v.region.startRow&&f<=v.region.endRow;!x&&C&&C&&T&&e._bucketRemoveBody(d,T,v),(v.region===S||x&&!C||h)&&(T||(T=e._createBucket(y,P)),e._bucketAddBody(d,T,v))}v.region=S,A=!0}}}A&&(d.pairsList=e._createActivePairsList(d))},l(e,"update","Grid.update  replaced by Matter.Detector"),e.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},l(e,"clear","Grid.clear  replaced by Matter.Detector"),e._regionUnion=function(d,a){var m=Math.min(d.startCol,a.startCol),h=Math.max(d.endCol,a.endCol),i=Math.min(d.startRow,a.startRow),c=Math.max(d.endRow,a.endRow);return e._createRegion(m,h,i,c)},e._getRegion=function(d,a){var m=a.bounds,h=Math.floor(m.min.x/d.bucketWidth),i=Math.floor(m.max.x/d.bucketWidth),c=Math.floor(m.min.y/d.bucketHeight),f=Math.floor(m.max.y/d.bucketHeight);return e._createRegion(h,i,c,f)},e._createRegion=function(d,a,m,h){return{id:d+","+a+","+m+","+h,startCol:d,endCol:a,startRow:m,endRow:h}},e._getBucketId=function(d,a){return"C"+d+"R"+a},e._createBucket=function(d,a){var m=d[a]=[];return m},e._bucketAddBody=function(d,a,m){var h=d.pairs,i=o.id,c=a.length,f;for(f=0;f<c;f++){var g=a[f];if(!(m.id===g.id||m.isStatic&&g.isStatic)){var y=i(m,g),T=h[y];T?T[2]+=1:h[y]=[m,g,1]}}a.push(m)},e._bucketRemoveBody=function(d,a,m){var h=d.pairs,i=o.id,c;a.splice(u.indexOf(a,m),1);var f=a.length;for(c=0;c<f;c++){var g=h[i(m,a[c])];g&&(g[2]-=1)}},e._createActivePairsList=function(d){var a,m=d.pairs,h=u.keys(m),i=h.length,c=[],f;for(f=0;f<i;f++)a=m[h[f]],a[2]>0?c.push(a):delete m[h[f]];return c}})()},function(r,p,s){var e={};r.exports=e;var o=s(3),u=s(7),l=s(14),d=s(5),a=s(13),m=s(10),h=s(6),i=s(0),c=s(1);(function(){e.create=function(f,g){var y=(f?f.mouse:null)||(g?g.mouse:null);y||(f&&f.render&&f.render.canvas?y=l.create(f.render.canvas):g&&g.element?y=l.create(g.element):(y=l.create(),i.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var T=m.create({label:"Mouse Constraint",pointA:y.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),P={type:"mouseConstraint",mouse:y,element:null,body:null,constraint:T,collisionFilter:{category:1,mask:4294967295,group:0}},A=i.extend(P,g);return d.on(f,"beforeUpdate",function(){var v=h.allBodies(f.world);e.update(A,v),e._triggerEvents(A)}),A},e.update=function(f,g){var y=f.mouse,T=f.constraint,P=f.body;if(y.button===0){if(T.bodyB)u.set(T.bodyB,!1),T.pointA=y.position;else for(var A=0;A<g.length;A++)if(P=g[A],c.contains(P.bounds,y.position)&&a.canCollide(P.collisionFilter,f.collisionFilter))for(var v=P.parts.length>1?1:0;v<P.parts.length;v++){var S=P.parts[v];if(o.contains(S.vertices,y.position)){T.pointA=y.position,T.bodyB=f.body=P,T.pointB={x:y.position.x-P.position.x,y:y.position.y-P.position.y},T.angleB=P.angle,u.set(P,!1),d.trigger(f,"startdrag",{mouse:y,body:P});break}}}else T.bodyB=f.body=null,T.pointB=null,P&&d.trigger(f,"enddrag",{mouse:y,body:P})},e._triggerEvents=function(f){var g=f.mouse,y=g.sourceEvents;y.mousemove&&d.trigger(f,"mousemove",{mouse:g}),y.mousedown&&d.trigger(f,"mousedown",{mouse:g}),y.mouseup&&d.trigger(f,"mouseup",{mouse:g}),l.clearSourceEvents(g)}})()},function(r,p,s){var e={};r.exports=e;var o=s(2),u=s(8),l=s(1),d=s(12),a=s(3);(function(){e.collides=function(m,h){for(var i=[],c=h.length,f=m.bounds,g=u.collides,y=l.overlaps,T=0;T<c;T++){var P=h[T],A=P.parts.length,v=A===1?0:1;if(y(P.bounds,f))for(var S=v;S<A;S++){var w=P.parts[S];if(y(w.bounds,f)){var x=g(w,m);if(x){i.push(x);break}}}}return i},e.ray=function(m,h,i,c){c=c||1e-100;for(var f=o.angle(h,i),g=o.magnitude(o.sub(h,i)),y=(i.x+h.x)*.5,T=(i.y+h.y)*.5,P=d.rectangle(y,T,g,c,{angle:f}),A=e.collides(P,m),v=0;v<A.length;v+=1){var S=A[v];S.body=S.bodyB=S.bodyA}return A},e.region=function(m,h,i){for(var c=[],f=0;f<m.length;f++){var g=m[f],y=l.overlaps(g.bounds,h);(y&&!i||!y&&i)&&c.push(g)}return c},e.point=function(m,h){for(var i=[],c=0;c<m.length;c++){var f=m[c];if(l.contains(f.bounds,h))for(var g=f.parts.length===1?0:1;g<f.parts.length;g++){var y=f.parts[g];if(l.contains(y.bounds,h)&&a.contains(y.vertices,h)){i.push(f);break}}}return i}})()},function(r,p,s){var e={};r.exports=e;var o=s(4),u=s(0),l=s(6),d=s(1),a=s(5),m=s(2),h=s(14);(function(){var i,c;typeof window<"u"&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(v){window.setTimeout(function(){v(u.now())},1e3/60)},c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(v){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!v.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=u.extend(S,v);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=v.mouse,w.engine=v.engine,w.canvas=w.canvas||y(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),u.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(v){(function S(w){v.frameRequestId=i(S),f(v,w),e.world(v,w),v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0),(v.options.showStats||v.options.showDebug)&&e.stats(v,v.context,w),(v.options.showPerformance||v.options.showDebug)&&e.performance(v,v.context,w),v.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(v){c(v.frameRequestId)},e.setPixelRatio=function(v,S){var w=v.options,x=v.canvas;S==="auto"&&(S=T(x)),w.pixelRatio=S,x.setAttribute("data-pixel-ratio",S),x.width=w.width*S,x.height=w.height*S,x.style.width=w.width+"px",x.style.height=w.height+"px"},e.setSize=function(v,S,w){v.options.width=S,v.options.height=w,v.bounds.max.x=v.bounds.min.x+S,v.bounds.max.y=v.bounds.min.y+w,v.options.pixelRatio!==1?e.setPixelRatio(v,v.options.pixelRatio):(v.canvas.width=S,v.canvas.height=w)},e.lookAt=function(v,S,w,x){x=typeof x<"u"?x:!0,S=u.isArray(S)?S:[S],w=w||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},M=0;M<S.length;M+=1){var V=S[M],I=V.bounds?V.bounds.min:V.min||V.position||V,D=V.bounds?V.bounds.max:V.max||V.position||V;I&&D&&(I.x<C.min.x&&(C.min.x=I.x),D.x>C.max.x&&(C.max.x=D.x),I.y<C.min.y&&(C.min.y=I.y),D.y>C.max.y&&(C.max.y=D.y))}var B=C.max.x-C.min.x+2*w.x,F=C.max.y-C.min.y+2*w.y,E=v.canvas.height,b=v.canvas.width,R=b/E,k=B/F,N=1,K=1;k>R?K=k/R:N=R/k,v.options.hasBounds=!0,v.bounds.min.x=C.min.x,v.bounds.max.x=C.min.x+B*N,v.bounds.min.y=C.min.y,v.bounds.max.y=C.min.y+F*K,x&&(v.bounds.min.x+=B*.5-B*N*.5,v.bounds.max.x+=B*.5-B*N*.5,v.bounds.min.y+=F*.5-F*K*.5,v.bounds.max.y+=F*.5-F*K*.5),v.bounds.min.x-=w.x,v.bounds.max.x-=w.x,v.bounds.min.y-=w.y,v.bounds.max.y-=w.y,v.mouse&&(h.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.canvas.width,y:(v.bounds.max.y-v.bounds.min.y)/v.canvas.height}),h.setOffset(v.mouse,v.bounds.min))},e.startViewTransform=function(v){var S=v.bounds.max.x-v.bounds.min.x,w=v.bounds.max.y-v.bounds.min.y,x=S/v.options.width,C=w/v.options.height;v.context.setTransform(v.options.pixelRatio/x,0,0,v.options.pixelRatio/C,0,0),v.context.translate(-v.bounds.min.x,-v.bounds.min.y)},e.endViewTransform=function(v){v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0)},e.world=function(v,S){var w=u.now(),x=v.engine,C=x.world,M=v.canvas,V=v.context,I=v.options,D=v.timing,B=l.allBodies(C),F=l.allConstraints(C),E=I.wireframes?I.wireframeBackground:I.background,b=[],R=[],k,N={timestamp:x.timing.timestamp};if(a.trigger(v,"beforeRender",N),v.currentBackground!==E&&A(v,E),V.globalCompositeOperation="source-in",V.fillStyle="transparent",V.fillRect(0,0,M.width,M.height),V.globalCompositeOperation="source-over",I.hasBounds){for(k=0;k<B.length;k++){var K=B[k];d.overlaps(K.bounds,v.bounds)&&b.push(K)}for(k=0;k<F.length;k++){var U=F[k],$=U.bodyA,j=U.bodyB,z=U.pointA,L=U.pointB;$&&(z=m.add($.position,U.pointA)),j&&(L=m.add(j.position,U.pointB)),!(!z||!L)&&(d.contains(v.bounds,z)||d.contains(v.bounds,L))&&R.push(U)}e.startViewTransform(v),v.mouse&&(h.setScale(v.mouse,{x:(v.bounds.max.x-v.bounds.min.x)/v.options.width,y:(v.bounds.max.y-v.bounds.min.y)/v.options.height}),h.setOffset(v.mouse,v.bounds.min))}else R=F,b=B,v.options.pixelRatio!==1&&v.context.setTransform(v.options.pixelRatio,0,0,v.options.pixelRatio,0,0);!I.wireframes||x.enableSleeping&&I.showSleeping?e.bodies(v,b,V):(I.showConvexHulls&&e.bodyConvexHulls(v,b,V),e.bodyWireframes(v,b,V)),I.showBounds&&e.bodyBounds(v,b,V),(I.showAxes||I.showAngleIndicator)&&e.bodyAxes(v,b,V),I.showPositions&&e.bodyPositions(v,b,V),I.showVelocity&&e.bodyVelocity(v,b,V),I.showIds&&e.bodyIds(v,b,V),I.showSeparations&&e.separations(v,x.pairs.list,V),I.showCollisions&&e.collisions(v,x.pairs.list,V),I.showVertexNumbers&&e.vertexNumbers(v,b,V),I.showMousePosition&&e.mousePosition(v,v.mouse,V),e.constraints(R,V),I.hasBounds&&e.endViewTransform(v),a.trigger(v,"afterRender",N),D.lastElapsed=u.now()-w},e.stats=function(v,S,w){for(var x=v.engine,C=x.world,M=l.allBodies(C),V=0,I=55,D=44,B=0,F=0,E=0;E<M.length;E+=1)V+=M[E].parts.length;var b={Part:V,Body:M.length,Cons:l.allConstraints(C).length,Comp:l.allComposites(C).length,Pair:x.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(B,F,I*5.5,D),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var R in b){var k=b[R];S.fillStyle="#aaa",S.fillText(R,B+I,F+8),S.fillStyle="#eee",S.fillText(k,B+I,F+26),B+=I}},e.performance=function(v,S){var w=v.engine,x=v.timing,C=x.deltaHistory,M=x.elapsedHistory,V=x.timestampElapsedHistory,I=x.engineDeltaHistory,D=x.engineUpdatesHistory,B=x.engineElapsedHistory,F=w.timing.lastUpdatesPerFrame,E=w.timing.lastDelta,b=g(C),R=g(M),k=g(I),N=g(D),K=g(B),U=g(V),$=U/b||0,j=Math.round(b/E),z=1e3/b||0,L=4,X=12,W=60,J=34,q=10,_=69;S.fillStyle="#0e0f19",S.fillRect(0,50,X*5+W*6+22,J),e.status(S,q,_,W,L,C.length,Math.round(z)+" fps",z/e._goodFps,function(Y){return C[Y]/b-1}),e.status(S,q+X+W,_,W,L,I.length,E.toFixed(2)+" dt",e._goodDelta/E,function(Y){return I[Y]/k-1}),e.status(S,q+(X+W)*2,_,W,L,D.length,F+" upf",Math.pow(u.clamp(N/j||1,0,1),4),function(Y){return D[Y]/N-1}),e.status(S,q+(X+W)*3,_,W,L,B.length,K.toFixed(2)+" ut",1-F*K/e._goodFps,function(Y){return B[Y]/K-1}),e.status(S,q+(X+W)*4,_,W,L,M.length,R.toFixed(2)+" rt",1-R/e._goodFps,function(Y){return M[Y]/R-1}),e.status(S,q+(X+W)*5,_,W,L,V.length,$.toFixed(2)+" x",$*$*$,function(Y){return(V[Y]/C[Y]/$||0)-1})},e.status=function(v,S,w,x,C,M,V,I,D){v.strokeStyle="#888",v.fillStyle="#444",v.lineWidth=1,v.fillRect(S,w+7,x,1),v.beginPath(),v.moveTo(S,w+7-C*u.clamp(.4*D(0),-2,2));for(var B=0;B<x;B+=1)v.lineTo(S+B,w+7-(B<M?C*u.clamp(.4*D(B),-2,2):0));v.stroke(),v.fillStyle="hsl("+u.clamp(25+95*I,0,120)+",100%,60%)",v.fillRect(S,w-7,4,4),v.font="12px Arial",v.textBaseline="middle",v.textAlign="right",v.fillStyle="#eee",v.fillText(V,S+x,w-5)},e.constraints=function(v,S){for(var w=S,x=0;x<v.length;x++){var C=v[x];if(!(!C.render.visible||!C.pointA||!C.pointB)){var M=C.bodyA,V=C.bodyB,I,D;if(M?I=m.add(M.position,C.pointA):I=C.pointA,C.render.type==="pin")w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.closePath();else{if(V?D=m.add(V.position,C.pointB):D=C.pointB,w.beginPath(),w.moveTo(I.x,I.y),C.render.type==="spring")for(var B=m.sub(D,I),F=m.perp(m.normalise(B)),E=Math.ceil(u.clamp(C.length/5,12,20)),b,R=1;R<E;R+=1)b=R%2===0?1:-1,w.lineTo(I.x+B.x*(R/E)+F.x*b*4,I.y+B.y*(R/E)+F.y*b*4);w.lineTo(D.x,D.y)}C.render.lineWidth&&(w.lineWidth=C.render.lineWidth,w.strokeStyle=C.render.strokeStyle,w.stroke()),C.render.anchors&&(w.fillStyle=C.render.strokeStyle,w.beginPath(),w.arc(I.x,I.y,3,0,2*Math.PI),w.arc(D.x,D.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(v,S,w){var x=w;v.engine;var C=v.options,M=C.showInternalEdges||!C.wireframes,V,I,D,B;for(D=0;D<S.length;D++)if(V=S[D],!!V.render.visible){for(B=V.parts.length>1?1:0;B<V.parts.length;B++)if(I=V.parts[B],!!I.render.visible){if(C.showSleeping&&V.isSleeping?x.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(x.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!C.wireframes){var F=I.render.sprite,E=P(v,F.texture);x.translate(I.position.x,I.position.y),x.rotate(I.angle),x.drawImage(E,E.width*-F.xOffset*F.xScale,E.height*-F.yOffset*F.yScale,E.width*F.xScale,E.height*F.yScale),x.rotate(-I.angle),x.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)x.beginPath(),x.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(I.vertices[0].x,I.vertices[0].y);for(var b=1;b<I.vertices.length;b++)!I.vertices[b-1].isInternal||M?x.lineTo(I.vertices[b].x,I.vertices[b].y):x.moveTo(I.vertices[b].x,I.vertices[b].y),I.vertices[b].isInternal&&!M&&x.moveTo(I.vertices[(b+1)%I.vertices.length].x,I.vertices[(b+1)%I.vertices.length].y);x.lineTo(I.vertices[0].x,I.vertices[0].y),x.closePath()}C.wireframes?(x.lineWidth=1,x.strokeStyle=v.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=I.render.fillStyle,I.render.lineWidth&&(x.lineWidth=I.render.lineWidth,x.strokeStyle=I.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(v,S,w){var x=w,C=v.options.showInternalEdges,M,V,I,D,B;for(x.beginPath(),I=0;I<S.length;I++)if(M=S[I],!!M.render.visible)for(B=M.parts.length>1?1:0;B<M.parts.length;B++){for(V=M.parts[B],x.moveTo(V.vertices[0].x,V.vertices[0].y),D=1;D<V.vertices.length;D++)!V.vertices[D-1].isInternal||C?x.lineTo(V.vertices[D].x,V.vertices[D].y):x.moveTo(V.vertices[D].x,V.vertices[D].y),V.vertices[D].isInternal&&!C&&x.moveTo(V.vertices[(D+1)%V.vertices.length].x,V.vertices[(D+1)%V.vertices.length].y);x.lineTo(V.vertices[0].x,V.vertices[0].y)}x.lineWidth=1,x.strokeStyle=v.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(v,S,w){var x=w,C,M,V;for(x.beginPath(),M=0;M<S.length;M++)if(C=S[M],!(!C.render.visible||C.parts.length===1)){for(x.moveTo(C.vertices[0].x,C.vertices[0].y),V=1;V<C.vertices.length;V++)x.lineTo(C.vertices[V].x,C.vertices[V].y);x.lineTo(C.vertices[0].x,C.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(v,S,w){var x=w,C,M,V;for(C=0;C<S.length;C++){var I=S[C].parts;for(V=I.length>1?1:0;V<I.length;V++){var D=I[V];for(M=0;M<D.vertices.length;M++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(C+"_"+M,D.position.x+(D.vertices[M].x-D.position.x)*.8,D.position.y+(D.vertices[M].y-D.position.y)*.8)}}},e.mousePosition=function(v,S,w){var x=w;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},e.bodyBounds=function(v,S,w){var x=w;v.engine;var C=v.options;x.beginPath();for(var M=0;M<S.length;M++){var V=S[M];if(V.render.visible)for(var I=S[M].parts,D=I.length>1?1:0;D<I.length;D++){var B=I[D];x.rect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}C.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(v,S,w){var x=w;v.engine;var C=v.options,M,V,I,D;for(x.beginPath(),V=0;V<S.length;V++){var B=S[V],F=B.parts;if(B.render.visible)if(C.showAxes)for(I=F.length>1?1:0;I<F.length;I++)for(M=F[I],D=0;D<M.axes.length;D++){var E=M.axes[D];x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+E.x*20,M.position.y+E.y*20)}else for(I=F.length>1?1:0;I<F.length;I++)for(M=F[I],D=0;D<M.axes.length;D++)x.moveTo(M.position.x,M.position.y),x.lineTo((M.vertices[0].x+M.vertices[M.vertices.length-1].x)/2,(M.vertices[0].y+M.vertices[M.vertices.length-1].y)/2)}C.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(v,S,w){var x=w;v.engine;var C=v.options,M,V,I,D;for(x.beginPath(),I=0;I<S.length;I++)if(M=S[I],!!M.render.visible)for(D=0;D<M.parts.length;D++)V=M.parts[D],x.arc(V.position.x,V.position.y,3,0,2*Math.PI,!1),x.closePath();for(C.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),I=0;I<S.length;I++)M=S[I],M.render.visible&&(x.arc(M.positionPrev.x,M.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(v,S,w){var x=w;x.beginPath();for(var C=0;C<S.length;C++){var M=S[C];if(M.render.visible){var V=o.getVelocity(M);x.moveTo(M.position.x,M.position.y),x.lineTo(M.position.x+V.x,M.position.y+V.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(v,S,w){var x=w,C,M;for(C=0;C<S.length;C++)if(S[C].render.visible){var V=S[C].parts;for(M=V.length>1?1:0;M<V.length;M++){var I=V[M];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(I.id,I.position.x+10,I.position.y-10)}}},e.collisions=function(v,S,w){var x=w,C=v.options,M,V,I,D;for(x.beginPath(),I=0;I<S.length;I++)if(M=S[I],!!M.isActive)for(V=M.collision,D=0;D<M.contactCount;D++){var B=M.contacts[D],F=B.vertex;x.rect(F.x-1.5,F.y-1.5,3.5,3.5)}for(C.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),I=0;I<S.length;I++)if(M=S[I],!!M.isActive&&(V=M.collision,M.contactCount>0)){var E=M.contacts[0].vertex.x,b=M.contacts[0].vertex.y;M.contactCount===2&&(E=(M.contacts[0].vertex.x+M.contacts[1].vertex.x)/2,b=(M.contacts[0].vertex.y+M.contacts[1].vertex.y)/2),V.bodyB===V.supports[0].body||V.bodyA.isStatic===!0?x.moveTo(E-V.normal.x*8,b-V.normal.y*8):x.moveTo(E+V.normal.x*8,b+V.normal.y*8),x.lineTo(E,b)}C.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(v,S,w){var x=w,C=v.options,M,V,I,D,B;for(x.beginPath(),B=0;B<S.length;B++)if(M=S[B],!!M.isActive){V=M.collision,I=V.bodyA,D=V.bodyB;var F=1;!D.isStatic&&!I.isStatic&&(F=.5),D.isStatic&&(F=0),x.moveTo(D.position.x,D.position.y),x.lineTo(D.position.x-V.penetration.x*F,D.position.y-V.penetration.y*F),F=1,!D.isStatic&&!I.isStatic&&(F=.5),I.isStatic&&(F=0),x.moveTo(I.position.x,I.position.y),x.lineTo(I.position.x+V.penetration.x*F,I.position.y+V.penetration.y*F)}C.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(v,S){v.engine;var w=v.selected,x=v.render,C=x.options,M;if(C.hasBounds){var V=x.bounds.max.x-x.bounds.min.x,I=x.bounds.max.y-x.bounds.min.y,D=V/x.options.width,B=I/x.options.height;S.scale(1/D,1/B),S.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var F=0;F<w.length;F++){var E=w[F].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),E.type){case"body":M=E.bounds,S.beginPath(),S.rect(Math.floor(M.min.x-3),Math.floor(M.min.y-3),Math.floor(M.max.x-M.min.x+6),Math.floor(M.max.y-M.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var b=E.pointA;E.bodyA&&(b=E.pointB),S.beginPath(),S.arc(b.x,b.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}v.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",M=v.selectBounds,S.beginPath(),S.rect(Math.floor(M.min.x),Math.floor(M.min.y),Math.floor(M.max.x-M.min.x),Math.floor(M.max.y-M.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),C.hasBounds&&S.setTransform(1,0,0,1,0,0)};var f=function(v,S){var w=v.engine,x=v.timing,C=x.historySize,M=w.timing.timestamp;x.delta=S-x.lastTime||e._goodDelta,x.lastTime=S,x.timestampElapsed=M-x.lastTimestamp||0,x.lastTimestamp=M,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,C),x.engineDeltaHistory.unshift(w.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,C),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,C),x.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,C),x.engineElapsedHistory.unshift(w.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,C),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,C)},g=function(v){for(var S=0,w=0;w<v.length;w+=1)S+=v[w];return S/v.length||0},y=function(v,S){var w=document.createElement("canvas");return w.width=v,w.height=S,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},T=function(v){var S=v.getContext("2d"),w=window.devicePixelRatio||1,x=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return w/x},P=function(v,S){var w=v.textures[S];return w||(w=v.textures[S]=new Image,w.src=S,w)},A=function(v,S){var w=S;/(jpg|gif|png)$/.test(S)&&(w="url("+S+")"),v.canvas.style.background=w,v.canvas.style.backgroundSize="contain",v.currentBackground=S}})()},function(r,p,s){var e={};r.exports=e;var o=s(5),u=s(17),l=s(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(a){var m={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},h=l.extend(m,a);return h.fps=0,h},e.run=function(a,m){return a.timeBuffer=e._frameDeltaFallback,function h(i){a.frameRequestId=e._onNextFrame(a,h),i&&a.enabled&&e.tick(a,m,i)}(),a},e.tick=function(a,m,h){var i=l.now(),c=a.delta,f=0,g=h-a.timeLastTick;if((!g||!a.timeLastTick||g>Math.max(e._maxFrameDelta,a.maxFrameTime))&&(g=a.frameDelta||e._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(g),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var y=a.frameDeltaHistory.slice(0).sort(),T=a.frameDeltaHistory.slice(y.length*e._smoothingLowerBound,y.length*e._smoothingUpperBound),P=d(T);g=P||g}a.frameDeltaSnapping&&(g=1e3/Math.round(1e3/g)),a.frameDelta=g,a.timeLastTick=h,a.timeBuffer+=a.frameDelta,a.timeBuffer=l.clamp(a.timeBuffer,0,a.frameDelta+c*e._timeBufferMargin),a.lastUpdatesDeferred=0;var A=a.maxUpdates||Math.ceil(a.maxFrameTime/c),v={timestamp:m.timing.timestamp};o.trigger(a,"beforeTick",v),o.trigger(a,"tick",v);for(var S=l.now();c>0&&a.timeBuffer>=c*e._timeBufferMargin;){o.trigger(a,"beforeUpdate",v),u.update(m,c),o.trigger(a,"afterUpdate",v),a.timeBuffer-=c,f+=1;var w=l.now()-i,x=l.now()-S,C=w+e._elapsedNextEstimate*x/f;if(f>=A||C>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/c-e._timeBufferMargin));break}}m.timing.lastUpdatesPerFrame=f,o.trigger(a,"afterTick",v),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/c)>A?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(a){e._cancelNextFrame(a)},e._onNextFrame=function(a,m){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(m);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},e._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(a){for(var m=0,h=a.length,i=0;i<h;i+=1)m+=a[i];return m/h||0}})()},function(r,p,s){var e={};r.exports=e;var o=s(8),u=s(0),l=u.deprecated;(function(){e.collides=function(d,a){return o.collides(d,a)},l(e,"collides","SAT.collides  replaced by Collision.collides")})()},function(r,p,s){var e={};r.exports=e,s(1);var o=s(0);(function(){e.pathToVertices=function(u,l){typeof window<"u"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,a,m,h,i,c,f,g,y,T,P=[],A,v,S=0,w=0,x=0;l=l||15;var C=function(V,I,D){var B=D%2===1&&D>1;if(!y||V!=y.x||I!=y.y){y&&B?(A=y.x,v=y.y):(A=0,v=0);var F={x:A+V,y:v+I};(B||!y)&&(y=F),P.push(F),w=A+V,x=v+I}},M=function(V){var I=V.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":w=V.x,x=V.y;break;case"H":w=V.x;break;case"V":x=V.y;break}C(w,x,V.pathSegType)}};for(e._svgPathToAbsolute(u),m=u.getTotalLength(),c=[],d=0;d<u.pathSegList.numberOfItems;d+=1)c.push(u.pathSegList.getItem(d));for(f=c.concat();S<m;){if(T=u.getPathSegAtLength(S),i=c[T],i!=g){for(;f.length&&f[0]!=i;)M(f.shift());g=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=u.getPointAtLength(S),C(h.x,h.y,0);break}S+=l}for(d=0,a=f.length;d<a;++d)M(f[d]);return P},e._svgPathToAbsolute=function(u){for(var l,d,a,m,h,i,c=u.pathSegList,f=0,g=0,y=c.numberOfItems,T=0;T<y;++T){var P=c.getItem(T),A=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in P&&(f=P.x),"y"in P&&(g=P.y);else switch("x1"in P&&(a=f+P.x1),"x2"in P&&(h=f+P.x2),"y1"in P&&(m=g+P.y1),"y2"in P&&(i=g+P.y2),"x"in P&&(f+=P.x),"y"in P&&(g+=P.y),A){case"m":c.replaceItem(u.createSVGPathSegMovetoAbs(f,g),T);break;case"l":c.replaceItem(u.createSVGPathSegLinetoAbs(f,g),T);break;case"h":c.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(f),T);break;case"v":c.replaceItem(u.createSVGPathSegLinetoVerticalAbs(g),T);break;case"c":c.replaceItem(u.createSVGPathSegCurvetoCubicAbs(f,g,a,m,h,i),T);break;case"s":c.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(f,g,h,i),T);break;case"q":c.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(f,g,a,m),T);break;case"t":c.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(f,g),T);break;case"a":c.replaceItem(u.createSVGPathSegArcAbs(f,g,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),T);break;case"z":case"Z":f=l,g=d;break}(A=="M"||A=="m")&&(l=f,d=g)}}})()},function(r,p,s){var e={};r.exports=e;var o=s(6);s(0),function(){e.create=o.create,e.add=o.add,e.remove=o.remove,e.clear=o.clear,e.addComposite=o.addComposite,e.addBody=o.addBody,e.addConstraint=o.addConstraint}()}])})}(ke)),ke.exports}var Oa=Ra();const ee=ba(Oa);let ut,pi,Se;const La=()=>'<div class="frame"></div>',ka=t=>{const n=document.querySelector(t);ut=ee.Runner;const r=ee.Engine,p=ee.Events,s=ee.Render,e=ee.Body,o=ee.Composite,u=ee.Composites,l=ee.Constraint,d=ee.Bodies,a=ee.Vector;Se=r.create();const m=Se.world,h=s.create({element:n,engine:Se,options:{width:n.offsetWidth,height:n.offsetHeight,wireframeStrokeStyle:"#0cdcf7",wireframeBackground:"transparent"}});s.run(h),pi=ut.create();const i=e.nextGroup(!0),c=144,f=25,g=u.stack(n.offsetWidth*.47,n.offsetHeight/2,2,1,-20,0,function(P,A){return d.rectangle(P,A,c,f,{collisionFilter:{group:i},frictionAir:0,chamfer:5,render:{fillStyle:"transparent",lineWidth:1}})});Se.gravity.scale=.002,u.chain(g,.45,0,-.45,0,{length:0,render:{strokeStyle:"#4a485b"}}),o.add(g,l.create({bodyB:g.bodies[0],pointB:{x:-c*.42,y:0},pointA:{x:g.bodies[0].position.x-c*.42,y:g.bodies[0].position.y},stiffness:.9,length:1,render:{strokeStyle:"#4a485b"}}));const y=g.bodies[1];e.rotate(y,-Math.PI*.3,{x:y.position.x-50,y:y.position.y}),o.add(m,g);const T=[];p.on(h,"afterRender",function(){const P=c/2-10;T.unshift({position:a.clone(y.position),speed:y.speed,angle:y.angle}),s.startViewTransform(h),h.context.globalAlpha=.7;for(let A=0;A<T.length;A+=1){const v=T[A].position,S=T[A].speed,w=T[A].angle,x=250+Math.round((1-Math.min(1,S/10))*170);h.context.fillStyle="hsl("+x+", 100%, 55%)";const C=Math.cos(w)*P,M=Math.sin(w)*P;h.context.fillRect(v.x+C,v.y+M,2,2)}h.context.globalAlpha=1,s.endViewTransform(h),T.length>2e3&&T.pop()})},Na=()=>{ut.run(pi,Se)},Wa=()=>{const t=La();ln(t,"#app"),ka(".frame"),Ia(".frame",Na,{amount:.75})};Ba();Wa();
